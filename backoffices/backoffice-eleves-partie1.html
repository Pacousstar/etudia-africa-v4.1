<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mon Espace √âtudIA - Jean-Baptiste DOSSO</title>
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    
    <style>
        /* ============================================
           üé® VARIABLES CSS - DESIGN TESLA HARMONIS√â
           ============================================ */
        :root {
            /* üéØ Couleurs √âtudIA Tesla */
            --etudia-primary: #FF6B35;
            --etudia-secondary: #EF4444;
            --etudia-success: #10B981;
            --etudia-warning: #F59E0B;
            --etudia-info: #3B82F6;
            --etudia-dark: #1F2937;
            --etudia-darker: #111827;
            --etudia-white: #FFFFFF;
            
            /* üåà Gradients Tesla */
            --gradient-primary: linear-gradient(135deg, #FF6B35, #EF4444);
            --gradient-secondary: linear-gradient(135deg, #10B981, #3B82F6);
            --gradient-background: linear-gradient(135deg, #1F2937, #111827);
            
            /* üé® Glassmorphism */
            --glass-bg: rgba(255, 255, 255, 0.1);
            --glass-border: rgba(255, 255, 255, 0.2);
            --glass-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            
            /* üìê Layout */
            --sidebar-width: 280px;
            --border-radius: 12px;
            --border-radius-lg: 16px;
            --transition: all 0.3s ease;
        }
        
        /* ============================================
           üîÑ RESET & BASE STYLES TESLA
           ============================================ */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--gradient-background);
            color: var(--etudia-white);
            line-height: 1.6;
            overflow-x: hidden;
            min-height: 100vh;
        }
        
        /* ============================================
           üèóÔ∏è LAYOUT PRINCIPAL TESLA
           ============================================ */
        .app-container {
            display: flex;
            min-height: 100vh;
            position: relative;
        }
        
        /* ============================================
           üì± SIDEBAR TESLA
           ============================================ */
        .sidebar {
            width: var(--sidebar-width);
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border-right: 1px solid var(--glass-border);
            box-shadow: var(--glass-shadow);
            position: fixed;
            height: 100vh;
            overflow-y: auto;
            z-index: 1000;
            transition: var(--transition);
        }
        
        .sidebar-header {
            padding: 2rem 1.5rem;
            border-bottom: 1px solid var(--glass-border);
            text-align: center;
        }
        
        .logo {
            font-size: 1.8rem;
            font-weight: 800;
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 0.5rem;
        }
        
        .user-info {
            margin-top: 1rem;
        }
        
        .user-avatar {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: var(--gradient-primary);
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 0.5rem;
            font-size: 1.5rem;
            color: white;
        }
        
        .user-name {
            font-weight: 600;
            margin-bottom: 0.25rem;
        }
        
        .user-plan {
            color: var(--etudia-success);
            font-size: 0.9rem;
        }
        
        /* ============================================
           üìã NAVIGATION SIDEBAR COMPACTE
           ============================================ */
        .nav-menu {
            padding: 1rem 0;
        }
        
        .nav-item {
            margin: 0.2rem 1rem;
        }
        
        .nav-link {
            display: flex;
            align-items: center;
            padding: 0.6rem 1rem;
            color: var(--etudia-white);
            text-decoration: none;
            border-radius: var(--border-radius);
            transition: var(--transition);
            position: relative;
            font-size: 0.9rem;
        }
        
        .nav-link:hover {
            background: var(--glass-bg);
            transform: translateX(5px);
        }
        
        .nav-link.active {
            background: var(--gradient-primary);
            box-shadow: 0 4px 15px rgba(255, 107, 53, 0.3);
        }
        
        .nav-link i {
            width: 18px;
            margin-right: 0.75rem;
            text-align: center;
            font-size: 0.9rem;
        }
        
        /* ============================================
           üñ•Ô∏è MAIN CONTENT TESLA
           ============================================ */
        .main-content {
            margin-left: var(--sidebar-width);
            flex: 1;
            padding: 1.5rem;
            background: transparent;
        }
        
        .main-header {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            padding: 1.2rem 1.8rem;
            border-radius: var(--border-radius-lg);
            border: 1px solid var(--glass-border);
            margin-bottom: 1.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .page-title {
            font-size: 1.8rem;
            font-weight: 700;
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .header-actions {
            display: flex;
            gap: 1rem;
            align-items: center;
        }
        
        .notification-btn, .chat-toggle {
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
            padding: 0.7rem;
            border-radius: 50%;
            color: var(--etudia-white);
            cursor: pointer;
            transition: var(--transition);
            position: relative;
            font-size: 0.9rem;
        }
        
        .notification-btn:hover, .chat-toggle:hover {
            background: var(--etudia-primary);
            transform: scale(1.1);
        }
        
        .notification-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background: var(--etudia-secondary);
            color: white;
            border-radius: 50%;
            width: 18px;
            height: 18px;
            font-size: 0.7rem;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        /* ============================================
           üìä DASHBOARD CARDS COMPACTES
           ============================================ */
        .dashboard-section {
            margin-bottom: 1.5rem;
        }
        
        .section-title {
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 1rem;
            color: var(--etudia-white);
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 1.5rem;
        }
        
        .stat-card {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: var(--border-radius);
            padding: 1.2rem;
            text-align: center;
            transition: var(--transition);
            position: relative;
            overflow: hidden;
            max-width: 250px;
        }
        
        .stat-card:hover {
            transform: translateY(-3px);
            box-shadow: var(--glass-shadow);
        }
        
        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: var(--gradient-primary);
        }
        
        .stat-icon {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            background: var(--gradient-primary);
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 0.8rem;
            font-size: 1.2rem;
            color: white;
        }
        
        .stat-value {
            font-size: 1.6rem;
            font-weight: 700;
            color: var(--etudia-white);
            margin-bottom: 0.3rem;
        }
        
        .stat-label {
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.85rem;
        }
        
        /* ============================================
           üìà ACTIVIT√â R√âCENTE - NOUVELLE SECTION
           ============================================ */
        .activity-section {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: var(--border-radius-lg);
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            
        }
        
        .activity-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.2rem;
        }
        
        .activity-title {
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--etudia-white);
        }
        
        .view-all-btn {
            background: var(--etudia-primary);
            color: white;
            border: none;
            padding: 0.4rem 0.8rem;
            border-radius: var(--border-radius);
            font-size: 0.8rem;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .view-all-btn:hover {
            background: var(--etudia-secondary);
            transform: translateY(-1px);
        }
        
        .activity-list {
            display: flex;
            flex-direction: column;
            gap: 0.8rem;
        }
        
        .activity-item {
            display: flex;
            align-items: center;
            padding: 0.8rem;
            background: rgba(0, 0, 0, 0.2);
            border-radius: var(--border-radius);
            border: 1px solid var(--glass-border);
            transition: var(--transition);
        }
        
        .activity-item:hover {
            background: rgba(0, 0, 0, 0.3);
            transform: translateX(3px);
        }
        
        .activity-icon {
            width: 35px;
            height: 35px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 0.8rem;
            font-size: 0.9rem;
            color: white;
        }
        
        .activity-icon.ia { background: var(--gradient-primary); }
        .activity-icon.document { background: var(--gradient-secondary); }
        .activity-icon.gain { background: linear-gradient(135deg, #F59E0B, #EF4444); }
        
        .activity-content {
            flex: 1;
        }
        
        .activity-text {
            font-weight: 500;
            margin-bottom: 0.2rem;
            font-size: 0.9rem;
        }
        
        .activity-details {
            color: rgba(255, 255, 255, 0.6);
            font-size: 0.8rem;
        }
        
        .activity-meta {
            text-align: right;
            font-size: 0.8rem;
        }
        
        .activity-time {
            color: rgba(255, 255, 255, 0.5);
            margin-bottom: 0.2rem;
        }
        
        .activity-value {
            color: var(--etudia-success);
            font-weight: 600;
        }
        
        .activity-value.negative {
            color: var(--etudia-warning);
        }
        
        /* ============================================
           üéØ QUICK ACTIONS COMPACTES
           ============================================ */
        .quick-actions {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
            gap: 0.8rem;
            margin-bottom: 1.5rem;
        }
        
        .action-card {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: var(--border-radius);
            padding: 1rem;
            text-align: center;
            text-decoration: none;
            color: var(--etudia-white);
            transition: var(--transition);
            cursor: pointer;
            max-width: 200px;
        }
        
        .action-card:hover {
            transform: translateY(-2px);
            background: var(--etudia-primary);
            color: white;
        }
        
        .action-icon {
            font-size: 1.5rem;
            margin-bottom: 0.4rem;
            display: block;
        }
        
        .action-title {
            font-weight: 600;
            margin-bottom: 0.2rem;
            font-size: 0.9rem;
        }
        
        .action-desc {
            font-size: 0.75rem;
            opacity: 0.8;
        }
        
        /* ============================================
           üìÑ DOCUMENTS SECTION COMPACTE
           ============================================ */
        .documents-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1rem;
        }
        
        .document-card {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: var(--border-radius);
            padding: 1rem;
            transition: var(--transition);
            max-width: 350px;
        }
        
        .document-card:hover {
            transform: translateY(-2px);
            box-shadow: var(--glass-shadow);
        }
        
        .document-item {
            display: flex;
            align-items: center;
            padding: 0.8rem;
            background: rgba(0, 0, 0, 0.2);
            border-radius: var(--border-radius);
            margin-bottom: 0.8rem;
        }
        
        .document-icon {
            margin-right: 0.8rem;
            font-size: 1.2rem;
        }
        
        .document-info {
            flex: 1;
        }
        
        .document-name {
            font-weight: 600;
            margin-bottom: 0.2rem;
            font-size: 0.9rem;
        }
        
        .document-meta {
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.8rem;
        }
        
        .document-action {
            background: var(--etudia-primary);
            border: none;
            padding: 0.4rem 0.8rem;
            border-radius: var(--border-radius);
            color: white;
            cursor: pointer;
            font-size: 0.8rem;
            transition: var(--transition);
        }
        
        .document-action:hover {
            background: var(--etudia-secondary);
        }
        
        /* ============================================
           üí∞ PARRAINAGE SECTION V4.1 COMPACTE
           ============================================ */
        .parrainage-section {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: var(--border-radius-lg);
            padding: 1.5rem;
            margin-bottom: 1.5rem;
        }
        
        .parrainage-header {
            text-align: center;
            margin-bottom: 1.2rem;
        }
        
        .parrainage-title {
            font-size: 1.3rem;
            font-weight: 600;
            color: var(--etudia-white);
            margin-bottom: 0.4rem;
        }
        
        .parrainage-subtitle {
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.9rem;
        }
        
        .parrainage-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 0.8rem;
            margin-bottom: 1.2rem;
        }
        
        .parrainage-stat {
            text-align: center;
            padding: 0.8rem;
            background: rgba(0, 0, 0, 0.2);
            border-radius: var(--border-radius);
            border: 1px solid var(--glass-border);
        }
        
        .parrainage-value {
            font-size: 1.2rem;
            font-weight: 700;
            color: var(--etudia-success);
            margin-bottom: 0.2rem;
        }
        
        .parrainage-label {
            font-size: 0.75rem;
            color: rgba(255, 255, 255, 0.7);
        }
        
        .referral-link-container {
            background: rgba(0, 0, 0, 0.2);
            padding: 0.8rem;
            border-radius: var(--border-radius);
            margin-bottom: 1rem;
            text-align: center;
        }
        
        .referral-link {
            color: var(--etudia-success);
            font-family: 'Courier New', monospace;
            font-size: 0.8rem;
            word-break: break-all;
        }
        
        .copy-btn {
            background: var(--etudia-info);
            border: none;
            padding: 0.3rem 0.6rem;
            margin-left: 0.5rem;
            border-radius: var(--border-radius);
            color: white;
            cursor: pointer;
            font-size: 0.7rem;
        }
        
        .share-buttons {
            display: flex;
            gap: 0.5rem;
            justify-content: center;
            flex-wrap: wrap;
            margin-bottom: 1rem;
        }
        
        .share-btn {
            padding: 0.6rem 1rem;
            border: none;
            border-radius: var(--border-radius);
            color: white;
            cursor: pointer;
            transition: var(--transition);
            font-weight: 500;
            text-decoration: none;
            display: inline-block;
            font-size: 0.8rem;
        }
        
        .share-btn.whatsapp { background: #25D366; }
        .share-btn.facebook { background: #1877F2; }
        .share-btn.copy { background: var(--etudia-info); }
        
        .share-btn:hover {
            transform: translateY(-1px);
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.3);
        }
        
        .withdrawal-section {
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.1), rgba(59, 130, 246, 0.1));
            border: 1px solid rgba(16, 185, 129, 0.3);
            border-radius: var(--border-radius);
            padding: 1rem;
            text-align: center;
        }
        
        .withdrawal-available {
            font-size: 1.1rem;
            color: var(--etudia-success);
            margin-bottom: 0.5rem;
        }
        
        .withdrawal-note {
            font-size: 0.8rem;
            color: rgba(255, 255, 255, 0.7);
            margin-bottom: 0.8rem;
        }
        
        .withdrawal-btn {
            background: var(--gradient-secondary);
            border: none;
            padding: 0.8rem 1.5rem;
            border-radius: var(--border-radius);
            color: white;
            cursor: pointer;
            font-weight: 600;
            font-size: 0.9rem;
            transition: var(--transition);
        }
        
        .withdrawal-btn:hover {
            transform: translateY(-1px);
            box-shadow: 0 5px 15px rgba(16, 185, 129, 0.4);
        }
        
        /* ============================================
           üí≥ ABONNEMENTS SECTION BAS√âE SUR PLANS.HTML
           ============================================ */
        .subscription-section {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: var(--border-radius-lg);
            padding: 1.5rem;
            margin-bottom: 1.5rem;
        }
        
        .current-plan {
            background: linear-gradient(135deg, rgba(255, 107, 53, 0.1), rgba(239, 68, 68, 0.1));
            border: 1px solid rgba(255, 107, 53, 0.3);
            border-radius: var(--border-radius);
            padding: 1.2rem;
            margin-bottom: 1.5rem;
        }
        
        .plan-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }
        
        .plan-info h3 {
            color: var(--etudia-white);
            margin-bottom: 0.3rem;
            font-size: 1.1rem;
        }
        
        .plan-info p {
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.8rem;
        }
        
        .plan-price {
            text-align: right;
        }
        
        .price {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--etudia-success);
        }
        
        .currency {
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.7);
        }
        
        .plan-usage {
            margin-bottom: 1rem;
        }
        
        .usage-stat {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.5rem;
            font-size: 0.9rem;
        }
        
        .usage-label {
            color: rgba(255, 255, 255, 0.7);
        }
        
        .usage-value {
            color: var(--etudia-white);
            font-weight: 600;
        }
        
        .progress-bar {
            background: rgba(0, 0, 0, 0.3);
            height: 6px;
            border-radius: 3px;
            overflow: hidden;
        }
        
        .progress-fill {
            background: var(--gradient-primary);
            height: 100%;
            transition: width 0.3s ease;
        }
        
        .upgrade-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
        }
        
        .upgrade-card {
            background: rgba(0, 0, 0, 0.2);
            border: 1px solid var(--glass-border);
            border-radius: var(--border-radius);
            padding: 1rem;
            text-align: center;
            transition: var(--transition);
        }
        
        .upgrade-card:hover {
            border-color: var(--etudia-primary);
            background: rgba(255, 107, 53, 0.1);
        }
        
        .upgrade-card.popular {
            border-color: var(--etudia-success);
            background: rgba(16, 185, 129, 0.1);
        }
        
        .upgrade-title {
            font-size: 1rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: var(--etudia-white);
        }
        
        .upgrade-price {
            font-size: 1.4rem;
            font-weight: 700;
            color: var(--etudia-success);
            margin-bottom: 0.5rem;
        }
        
        .upgrade-features {
            list-style: none;
            margin-bottom: 1rem;
        }
        
        .upgrade-features li {
            font-size: 0.8rem;
            color: rgba(255, 255, 255, 0.7);
            margin-bottom: 0.3rem;
            padding-left: 1rem;
            position: relative;
        }
        
        .upgrade-features li::before {
            content: '‚úÖ';
            position: absolute;
            left: 0;
        }
        
        .upgrade-btn {
            background: var(--gradient-primary);
            border: none;
            padding: 0.6rem 1.2rem;
            border-radius: var(--border-radius);
            color: white;
            cursor: pointer;
            font-weight: 600;
            font-size: 0.8rem;
            width: 100%;
            transition: var(--transition);
        }
        
        .upgrade-btn:hover {
            transform: translateY(-1px);
            box-shadow: 0 5px 15px rgba(255, 107, 53, 0.4);
        }
        
        /* ============================================
           ü§ñ BOUTON FLOTTANT INTERFACE IA
           ============================================ */
        .floating-ia-btn {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 60px;
            height: 60px;
            background: var(--gradient-primary);
            border: none;
            border-radius: 50%;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            box-shadow: 0 8px 25px rgba(255, 107, 53, 0.4);
            z-index: 999;
            transition: var(--transition);
            animation: pulse 2s infinite;
        }
        
        .floating-ia-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 12px 35px rgba(255, 107, 53, 0.6);
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        
        /* ============================================
           üì± RESPONSIVE TESLA
           ============================================ */
        .mobile-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 999;
            display: none;
        }
        
        @media (max-width: 768px) {
            .sidebar {
                transform: translateX(-100%);
                transition: transform 0.3s ease;
            }

            @media (max-width: 1200px) {
    .stats-grid {
        grid-template-columns: repeat(3, 1fr) !important;
        display: grid !important;
        overflow-x: visible !important;
    }
}

@media (max-width: 768px) {
    .stats-grid {
        grid-template-columns: repeat(2, 1fr) !important;
    }
}
            
            .sidebar.open {
                transform: translateX(0);
            }
            
            .mobile-overlay.active {
                display: block;
            }
            
            .main-content {
                margin-left: 0;
                padding: 1rem;
            }
            
            .main-header {
                padding: 1rem;
            }
            
            .page-title {
                font-size: 1.4rem;
            }
            
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .quick-actions {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .documents-grid {
                grid-template-columns: 1fr;
            }
            
            .parrainage-stats {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .upgrade-options {
                grid-template-columns: 1fr;
            }
            
            .share-buttons {
                flex-direction: column;
                align-items: center;
            }
            
            .floating-ia-btn {
                width: 50px;
                height: 50px;
                font-size: 1.2rem;
            }
        }
        
        /* ============================================
           üîî NOTIFICATIONS TOAST
           ============================================ */
        .toast-container {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 9999;
        }
        
        .toast {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: var(--border-radius);
            padding: 0.8rem 1.2rem;
            margin-bottom: 0.5rem;
            color: var(--etudia-white);
            box-shadow: var(--glass-shadow);
            transform: translateX(100%);
            transition: transform 0.3s ease;
            max-width: 300px;
            font-size: 0.9rem;
        }
        
        .toast.show {
            transform: translateX(0);
        }
        
        .toast.success { border-left: 4px solid var(--etudia-success); }
        .toast.error { border-left: 4px solid var(--etudia-secondary); }
        .toast.warning { border-left: 4px solid var(--etudia-warning); }
        .toast.info { border-left: 4px solid var(--etudia-info); }
        
        /* ============================================
           üéÆ MOBILE MENU
           ============================================ */
        .mobile-menu-btn {
            display: none;
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
            padding: 0.6rem;
            border-radius: var(--border-radius);
            color: var(--etudia-white);
            cursor: pointer;
        }
        
        @media (max-width: 768px) {
            .mobile-menu-btn {
                display: block;
            }
        }
        
        /* ============================================
           üéØ SECTIONS CONTENT
           ============================================ */
        .content-section {
            display: none;
        }
        
        .content-section.active {
            display: block;
            animation: fadeIn 0.3s ease-out;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .content-card {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: var(--border-radius-lg);
            padding: 1.5rem;
            margin-bottom: 1.5rem;
        }
        
        .coming-soon {
            text-align: center;
            padding: 2rem 1rem;
        }
        
        .coming-soon-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
        }
        
        .coming-soon h3 {
            font-size: 1.3rem;
            margin-bottom: 0.5rem;
            color: var(--etudia-white);
        }
        
        .coming-soon p {
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.9rem;
        }
        
        /* ============================================
           üìä INTERFACE IA CHAT COMPL√àTE
           ============================================ */
        .ia-chat-interface {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: var(--border-radius-lg);
            height: 600px;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }
        
        .ia-header {
            background: linear-gradient(135deg, rgba(255, 107, 53, 0.2), rgba(239, 68, 68, 0.2));
            padding: 1rem 1.5rem;
            border-bottom: 1px solid var(--glass-border);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .ia-title {
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--etudia-white);
        }
        
        .ia-status {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.8rem;
        }
        
        .status-indicator {
            width: 8px;
            height: 8px;
            background: var(--etudia-success);
            border-radius: 50%;
            animation: pulse 2s infinite;
        }
        
        .learning-modes {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
        }
        
        .mode-btn {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 15px;
            padding: 0.4rem 0.8rem;
            color: white;
            font-size: 0.75rem;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .mode-btn:hover, .mode-btn.active {
            background: var(--etudia-primary);
            border-color: var(--etudia-primary);
        }
        
        .chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: 1rem;
            background: linear-gradient(135deg, rgba(15, 23, 42, 0.8), rgba(30, 41, 59, 0.8));
        }
        
        .message {
            display: flex;
            margin-bottom: 1rem;
            align-items: flex-start;
            gap: 0.8rem;
        }
        
        .message-avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.9rem;
            flex-shrink: 0;
        }
        
        .ai-message .message-avatar {
            background: var(--gradient-primary);
        }
        
        .user-message .message-avatar {
            background: var(--gradient-secondary);
        }
        
        .message-content {
            flex: 1;
            background: rgba(30, 41, 59, 0.7);
            border-radius: 12px;
            padding: 0.8rem;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .message-text {
            color: var(--etudia-white);
            font-size: 0.9rem;
            line-height: 1.5;
        }
        
        .message-time {
            font-size: 0.7rem;
            color: rgba(255, 255, 255, 0.5);
            margin-top: 0.3rem;
        }
        
        .chat-input-zone {
            padding: 1rem;
            background: linear-gradient(135deg, rgba(30, 41, 59, 0.8), rgba(51, 65, 85, 0.8));
            border-top: 1px solid var(--glass-border);
        }
        
        .input-container {
            display: flex;
            align-items: flex-end;
            gap: 0.8rem;
        }
        
        .chat-input {
            flex: 1;
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid var(--glass-border);
            border-radius: var(--border-radius);
            padding: 0.8rem;
            color: var(--etudia-white);
            resize: none;
            min-height: 40px;
            max-height: 120px;
            font-size: 0.9rem;
        }
        
        .chat-input:focus {
            outline: none;
            border-color: var(--etudia-primary);
            box-shadow: 0 0 0 2px rgba(255, 107, 53, 0.2);
        }
        
        .chat-input::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }
        
        .send-btn {
            background: var(--gradient-primary);
            border: none;
            border-radius: var(--border-radius);
            padding: 0.8rem;
            color: white;
            cursor: pointer;
            transition: var(--transition);
            min-width: 45px;
        }
        
        .send-btn:hover {
            transform: translateY(-1px);
            box-shadow: 0 5px 15px rgba(255, 107, 53, 0.4);
        }
        
        .send-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .upload-zone {
            background: rgba(0, 0, 0, 0.3);
            border: 2px dashed var(--glass-border);
            border-radius: var(--border-radius);
            padding: 1.5rem;
            text-align: center;
            margin-bottom: 1rem;
            transition: var(--transition);
            cursor: pointer;
        }
        
        .upload-zone:hover {
            border-color: var(--etudia-primary);
            background: rgba(255, 107, 53, 0.1);
        }
        
        .upload-icon {
            font-size: 2rem;
            color: var(--etudia-primary);
            margin-bottom: 0.5rem;
        }
        
        .upload-text {
            color: var(--etudia-white);
            font-size: 0.9rem;
            margin-bottom: 0.3rem;
        }
        
        .upload-formats {
            font-size: 0.8rem;
            color: rgba(255, 255, 255, 0.6);
        }
    </style>
</head>
<body>
    <!-- Toast Container -->
    <div class="toast-container" id="toastContainer"></div>
    
    <!-- Mobile Overlay -->
    <div class="mobile-overlay" id="mobileOverlay" onclick="closeMobileMenu()"></div>
    
    <!-- App Container -->
    <div class="app-container">
        <!-- Sidebar -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <div class="logo">√âtudIA</div>
                <div class="user-info">
                    <div class="user-avatar">Ps</div>
                    <div class="user-name">Pacousstar</div>
                    <div class="user-plan">Premium ‚Ä¢ 847 tokens</div>
                </div>
            </div>
            
            <nav class="nav-menu">
                <div class="nav-item">
                    <a href="#" class="nav-link active" onclick="showSection('dashboard')">
                        <i class="fas fa-home"></i>
                        <span>Tableau de Bord</span>
                    </a>
                </div>
                <div class="nav-item">
                    <a href="#" class="nav-link" onclick="showSection('ia-chat')">
                        <i class="fas fa-robot"></i>
                        <span>Interface IA</span>
                    </a>
                </div>
                <div class="nav-item">
                    <a href="#" class="nav-link" onclick="showSection('documents')">
                        <i class="fas fa-file-pdf"></i>
                        <span>Mes Documents</span>
                    </a>
                </div>
                <div class="nav-item">
                    <a href="#" class="nav-link" onclick="showSection('parrainage')">
                        <i class="fas fa-users"></i>
                        <span>Parrainage</span>
                    </a>
                </div>
                <div class="nav-item">
                    <a href="#" class="nav-link" onclick="showSection('abonnements')">
                        <i class="fas fa-credit-card"></i>
                        <span>Abonnements</span>
                    </a>
                </div>
                <div class="nav-item">
                    <a href="#" class="nav-link" onclick="showSection('progression')">
                        <i class="fas fa-chart-line"></i>
                        <span>Ma Progression</span>
                    </a>
                </div>
                <div class="nav-item">
                    <a href="#" class="nav-link" onclick="showSection('historique')">
                        <i class="fas fa-history"></i>
                        <span>Historique</span>
                    </a>
                </div>
                <div class="nav-item">
                    <a href="#" class="nav-link" onclick="showSection('gamification')">
                        <i class="fas fa-trophy"></i>
                        <span>Badges & Niveaux</span>
                    </a>
                </div>
                <div class="nav-item">
                    <a href="#" class="nav-link" onclick="showSection('notifications')">
                        <i class="fas fa-bell"></i>
                        <span>Notifications</span>
                    </a>
                </div>
                <div class="nav-item">
                    <a href="#" class="nav-link" onclick="showSection('profil')">
                        <i class="fas fa-user"></i>
                        <span>Mon Profil</span>
                    </a>
                </div>
                <div class="nav-item">
                    <a href="#" class="nav-link" onclick="showSection('parametres')">
                        <i class="fas fa-cog"></i>
                        <span>Param√®tres</span>
                    </a>
                </div>
                <div class="nav-item">
                    <a href="#" class="nav-link" onclick="showSection('support')">
                        <i class="fas fa-question-circle"></i>
                        <span>Aide & Support</span>
                    </a>
                </div>
            </nav>
        </aside>
        
        <!-- Main Content -->
        <main class="main-content">
            <!-- Header -->
            <header class="main-header">
                <div>
                    <button class="mobile-menu-btn" onclick="toggleSidebar()">
                        <i class="fas fa-bars"></i>
                    </button>
                    <h1 class="page-title">Bon apr√®s-midi Jean-Baptiste !</h1>
                </div>
                <div class="header-actions">
                    <button class="notification-btn" onclick="showNotifications()">
                        <i class="fas fa-bell"></i>
                        <span class="notification-badge">5</span>
                    </button>
                   
                </div>
            </header>
            
            <!-- Dashboard Section -->
            <section id="dashboard" class="content-section active">
               <div class="dashboard-section">
    <h2 class="section-title">üìä Vue d'ensemble</h2>
    <div class="stats-grid" style="display: grid; grid-template-columns: repeat(6, 1fr); gap: 1rem;">
        <!-- Carte 1 -->
        <div class="stat-card">
            <div class="stat-icon">
                <i class="fas fa-coins"></i>
            </div>
            <div class="stat-value">847</div>
            <div class="stat-label">Tokens Restants</div>
        </div>
        
        <!-- Carte 2 -->
        <div class="stat-card">
            <div class="stat-icon">
                <i class="fas fa-robot"></i>
            </div>
            <div class="stat-value">23</div>
            <div class="stat-label">Sessions IA Aujourd'hui</div>
        </div>
        
        <!-- Carte 3 -->
        <div class="stat-card">
            <div class="stat-icon">
                <i class="fas fa-trophy"></i>
            </div>
            <div class="stat-value">Level 8</div>
            <div class="stat-label">2,340 XP</div>
        </div>
        
        <!-- Carte 4 -->
        <div class="stat-card">
            <div class="stat-icon">
                <i class="fas fa-money-bill"></i>
            </div>
            <div class="stat-value">12,450 F</div>
            <div class="stat-label">Gains Parrainage</div>
        </div>
        
        <!-- Carte 5 -->
        <div class="stat-card">
            <div class="stat-icon" style="background: linear-gradient(135deg, #8B5CF6, #EC4899);">
                <i class="fas fa-star"></i>
            </div>
            <div class="stat-value">87%</div>
            <div class="stat-label">Taux de R√©ussite</div>
        </div>
        
        <!-- Carte 6 -->
        <div class="stat-card">
            <div class="stat-icon" style="background: linear-gradient(135deg, #10B981, #3B82F6);">
                <i class="fas fa-clock"></i>
            </div>
            <div class="stat-value">4.2h</div>
            <div class="stat-label">Temps d'√âtude/Jour</div>
        </div>
    </div>
</div>
                
               <!-- Activit√© R√©cente - NOUVELLE SECTION -->
<div class="dashboard-section">
    <h3 class="section-title">üìà Activit√© R√©cente</h3>
    <div class="activity-grid" style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 1rem;">
        <!-- √âl√©ment 1 -->
        <div class="activity-item">
            <div class="activity-icon ia">
                <i class="fas fa-robot"></i>
            </div>
            <div class="activity-content">
                <div class="activity-text">Session IA - Math√©matiques</div>
                <div class="activity-details">R√©solution d'√©quations du second degr√© avec DeepSeek R1</div>
            </div>
            <div class="activity-meta">
                <div class="activity-time">Il y a 2 heures</div>
                <div class="activity-value negative">-180 tokens</div>
            </div>
        </div>
        
        <!-- √âl√©ment 2 -->
        <div class="activity-item">
            <div class="activity-icon document">
                <i class="fas fa-file-pdf"></i>
            </div>
            <div class="activity-content">
                <div class="activity-text">Document Analys√©</div>
                <div class="activity-details">Cours_Physique_Chapitre_5.pdf trait√© avec succ√®s</div>
            </div>
            <div class="activity-meta">
                <div class="activity-time">Il y a 4 heures</div>
                <div class="activity-value negative">-120 tokens</div>
            </div>
        </div>
        
        <!-- √âl√©ment 3 -->
        <div class="activity-item">
            <div class="activity-icon gain">
                <i class="fas fa-money-bill"></i>
            </div>
            <div class="activity-content">
                <div class="activity-text">Gain Parrainage</div>
                <div class="activity-details">Commission de 1,300 FCFA re√ßue (Nouveau filleul)</div>
            </div>
            <div class="activity-meta">
                <div class="activity-time">Hier</div>
                <div class="activity-value">+1,300 FCFA</div>
            </div>
        </div>
        
        <!-- √âl√©ment 4 (Nouveau) -->
        <div class="activity-item">
            <div class="activity-icon" style="background: var(--gradient-secondary);">
                <i class="fas fa-book"></i>
            </div>
            <div class="activity-content">
                <div class="activity-text">Nouvelle Fiche</div>
                <div class="activity-details">Fiche de r√©vision cr√©√©e en Chimie Organique</div>
            </div>
            <div class="activity-meta">
                <div class="activity-time">Il y a 1 jour</div>
                <div class="activity-value negative">-75 tokens</div>
            </div>
        </div>
        
        <!-- √âl√©ment 5 (Nouveau) -->
        <div class="activity-item">
            <div class="activity-icon" style="background: linear-gradient(135deg, #8B5CF6, #EC4899);">
                <i class="fas fa-trophy"></i>
            </div>
            <div class="activity-content">
                <div class="activity-text">Badge D√©bloqu√©</div>
                <div class="activity-details">Nouveau badge: Expert en Algorithmes</div>
            </div>
            <div class="activity-meta">
                <div class="activity-time">Il y a 2 jours</div>
                <div class="activity-value" style="color: #F59E0B;">+50 XP</div>
            </div>
        </div>
        
        <!-- √âl√©ment 6 (Nouveau) -->
        <div class="activity-item">
            <div class="activity-icon" style="background: linear-gradient(135deg, #10B981, #3B82F6);">
                <i class="fas fa-chart-line"></i>
            </div>
            <div class="activity-content">
                <div class="activity-text">Progression</div>
                <div class="activity-details">Niveau 8 atteint (+5% r√©ussite)</div>
            </div>
            <div class="activity-meta">
                <div class="activity-time">Il y a 3 jours</div>
                <div class="activity-value" style="color: #10B981;">+200 XP</div>
            </div>
        </div>
    </div>
    <div style="text-align: center; margin-top: 1rem;">
        <button class="view-all-btn" onclick="showSection('historique')">Voir tout l'historique</button>
    </div>
</div>
                
                <div class="dashboard-section">
                    <h2 class="section-title">üöÄ Actions Rapides</h2>
                    <div class="quick-actions">
                        <div class="action-card" onclick="showSection('ia-chat')">
                            <i class="fas fa-robot action-icon"></i>
                            <div class="action-title">Chat avec l'IA</div>
                            <div class="action-desc">Poser une question √† DeepSeek R1</div>
                        </div>
                        <div class="action-card" onclick="showSection('documents')">
                            <i class="fas fa-upload action-icon"></i>
                            <div class="action-title">Upload Document</div>
                            <div class="action-desc">Analyser un PDF ou image</div>
                        </div>
                        <div class="action-card" onclick="showSection('parrainage')">
                            <i class="fas fa-share action-icon"></i>
                            <div class="action-title">Parrainer</div>
                            <div class="action-desc">Inviter des amis et gagner</div>
                        </div>
                        <div class="action-card" onclick="showSection('progression')">
                            <i class="fas fa-chart-line action-icon"></i>
                            <div class="action-title">Ma Progression</div>
                            <div class="action-desc">Voir mes statistiques</div>
                        </div>
                        <div class="action-card" onclick="showSection('abonnements')">
                            <i class="fas fa-credit-card action-icon"></i>
                            <div class="action-title">Acheter Tokens</div>
                            <div class="action-desc">Recharger mon compte</div>
                        </div>
                        <div class="action-card" onclick="showSection('gamification')">
                            <i class="fas fa-trophy action-icon"></i>
                            <div class="action-title">Mes Badges</div>
                            <div class="action-desc">Collection et r√©compenses</div>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- Interface IA Section - AM√âLIOR√âE AVEC CODE COMPLET -->
            <section id="ia-chat" class="content-section">
    <!-- ü§ñ INTERFACE IA COMPL√àTE INT√âGR√âE - Section principale -->
    <style>
        /* ================================================================= */
        /* üîß RESET ET VARIABLES CSS - Base du syst√®me √âtudIA             */
        /* ================================================================= */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        /* Variables couleurs et th√®me √âtudIA V4.1 */
        :root {
            /* Couleurs principales √âtudIA */
            --etudia-primary: #FF6B35;      /* Orange signature √âtudIA */
            --etudia-success: #10B981;      /* Vert succ√®s */
            --etudia-danger: #EF4444;       /* Rouge erreur */
            --etudia-info: #3B82F6;         /* Bleu information */
            --etudia-warning: #F59E0B;      /* Orange avertissement */
            --etudia-dark: #1F2937;         /* Gris fonc√© */
            --etudia-white: #FFFFFF;        /* Blanc pur */
            
            /* Gradients signature √âtudIA */
            --gradient-primary: linear-gradient(135deg, #FF6B35, #EF4444);
            --gradient-secondary: linear-gradient(135deg, #10B981, #3B82F6);
            
            /* Effets glassmorphism */
            --glassmorphism: rgba(255, 255, 255, 0.1);
            --glassmorphism-border: rgba(255, 255, 255, 0.2);
        }

        /* ================================================================= */
        /* üì± BODY ET LAYOUT PRINCIPAL                                      */
        /* ================================================================= */
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1F2937, #111827);
            color: var(--etudia-white);
            min-height: 100vh;
            overflow-x: hidden; /* √âviter scroll horizontal */
        }

        /* ================================================================= */
        /* üè† SIDEBAR NAVIGATION STYLE TESLA                                */
        /* Design moderne avec effets glassmorphism                         */
        /* ================================================================= */
        .sidebar {
            position: fixed;
            left: 0;
            top: 0;
            width: 280px;
            height: 100vh;
            background: var(--gradient-primary);
            backdrop-filter: blur(20px);
            border-right: 1px solid var(--glassmorphism-border);
            z-index: 1000;
            transition: all 0.3s ease;
            overflow-y: auto;
        }

        /* En-t√™te sidebar avec logo et infos utilisateur */
        .sidebar-header {
            padding: 2rem 1.5rem;
            border-bottom: 1px solid var(--glassmorphism-border);
        }

        .logo {
            font-size: 2rem;
            font-weight: bold;
            color: var(--etudia-white);
            margin-bottom: 0.5rem;
        }

        .user-info {
            opacity: 0.9;
            font-size: 0.9rem;
        }

        /* Navigation sidebar */
        .sidebar-nav {
            padding: 2rem 0;
        }

        .nav-item {
            margin-bottom: 0.5rem;
        }

        .nav-link {
            display: flex;
            align-items: center;
            padding: 1rem 1.5rem;
            color: var(--etudia-white);
            text-decoration: none;
            transition: all 0.3s ease;
            border-left: 3px solid transparent;
            cursor: pointer;
        }

        /* √âtats hover et actif des liens */
        .nav-link:hover,
        .nav-link.active {
            background: var(--glassmorphism);
            border-left-color: var(--etudia-white);
            transform: translateX(5px);
        }

        .nav-icon {
            font-size: 1.2rem;
            margin-right: 1rem;
            width: 20px;
        }

        /* ================================================================= */
        /* üìÑ CONTENU PRINCIPAL ET HEADER                                   */
        /* ================================================================= */
        .main-content {
            margin-left: 280px; /* Espace pour sidebar */
            padding: 2rem;
            min-height: 100vh;
        }

        /* Header du dashboard */
        .header {
            background: var(--glassmorphism);
            backdrop-filter: blur(20px);
            border: 1px solid var(--glassmorphism-border);
            border-radius: 20px;
            padding: 2rem;
            margin-bottom: 2rem;
        }

        .header-title {
            font-size: 2.5rem;
            font-weight: bold;
            background: var(--gradient-secondary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 0.5rem;
        }

        .header-subtitle {
            opacity: 0.8;
            font-size: 1.1rem;
        }

        /* ================================================================= */
        /* ü§ñ INTERFACE IA COMPL√àTE INT√âGR√âE - SECTION PRINCIPALE           */
        /* Design premium avec glassmorphism et animations                   */
        /* ================================================================= */
        .etudia-chat-ia-complete {
            background: linear-gradient(135deg, #1F2937, #111827);
            border-radius: 20px;
            padding: 20px;
            margin: 20px 0;
            border: 1px solid rgba(255, 107, 53, 0.3);
            backdrop-filter: blur(20px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4);
        }

        .chat-container {
            max-width: 100%;
            background: linear-gradient(135deg, rgba(31, 41, 55, 0.9), rgba(17, 24, 39, 0.9));
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        /* ================================================================= */
        /* üéØ HEADER CHAT IA AVEC SESSIONS                                  */
        /* ================================================================= */
        .chat-header {
            background: linear-gradient(135deg, #FF6B35, #EF4444);
            padding: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            color: white;
        }

        .header-left {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        /* Avatar IA anim√© */
        .ai-avatar {
            width: 50px;
            height: 50px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            animation: pulse 2s infinite;
        }

        .ai-info h3 {
            margin: 0;
            font-size: 1.3rem;
            font-weight: bold;
        }

        .ai-status {
            font-size: 0.9rem;
            opacity: 0.9;
        }

        .ai-status.online::before {
            content: 'üü¢';
            margin-right: 5px;
        }

        .header-right {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        /* Contr√¥les sessions et documents */
        .session-controls {
            display: flex;
            gap: 10px;
        }

        .new-session-btn, .documents-btn {
            background: rgba(255, 255, 255, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 10px;
            padding: 8px 12px;
            color: white;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .new-session-btn:hover, .documents-btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
        }

        /* ================================================================= */
        /* üìë ONGLETS SESSIONS                                              */
        /* ================================================================= */
        .sessions-tabs {
            display: flex;
            background: rgba(255, 255, 255, 0.05);
            padding: 10px 15px;
            gap: 10px;
            overflow-x: auto;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .session-tab {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 15px;
            padding: 8px 15px;
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            min-width: 120px;
            transition: all 0.3s ease;
        }

        .session-tab:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .session-tab.active {
            background: linear-gradient(135deg, #FF6B35, #EF4444);
            border-color: #FF6B35;
            box-shadow: 0 5px 15px rgba(255, 107, 53, 0.3);
        }

        .tab-icon {
            font-size: 1rem;
        }

        .tab-name {
            font-size: 0.9rem;
            font-weight: 600;
        }

        .close-tab {
            background: none;
            border: none;
            color: white;
            font-size: 0.8rem;
            cursor: pointer;
            opacity: 0.7;
            padding: 2px 4px;
            border-radius: 3px;
            transition: all 0.3s ease;
        }

        .close-tab:hover {
            background: rgba(255, 255, 255, 0.2);
            opacity: 1;
        }

        /* ================================================================= */
        /* üéØ MODES D'APPRENTISSAGE                                         */
        /* ================================================================= */
        .learning-modes-bar {
            display: flex;
            background: rgba(255, 255, 255, 0.05);
            padding: 15px;
            gap: 10px;
            flex-wrap: wrap;
        }

        .mode-btn {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            padding: 8px 16px;
            color: white;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .mode-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-1px);
        }

        .mode-btn.active {
            background: linear-gradient(135deg, #FF6B35, #EF4444);
            border-color: #FF6B35;
            box-shadow: 0 5px 15px rgba(255, 107, 53, 0.3);
        }

        /* ================================================================= */
        /* üí¨ CONTAINER PRINCIPAL CHAT                                      */
        /* ================================================================= */
        .main-container {
            display: flex;
            height: 500px;
        }

        /* Zone des messages */
        .chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
            background: linear-gradient(135deg, rgba(15, 23, 42, 0.8), rgba(30, 41, 59, 0.8));
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        /* Messages style */
        .message {
            display: flex;
            margin-bottom: 20px;
            align-items: flex-start;
            gap: 12px;
            animation: fadeInUp 0.4s ease-out;
        }

        .message-avatar {
            width: 35px;
            height: 35px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            flex-shrink: 0;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        }

        /* Avatars diff√©renci√©s par type */
        .ai-message .message-avatar {
            background: linear-gradient(135deg, #FF6B35, #EF4444);
        }

        .user-message .message-avatar {
            background: linear-gradient(135deg, #10B981, #3B82F6);
        }

        /* Contenu des messages */
        .message-content {
            flex: 1;
            background: linear-gradient(135deg, rgba(30, 41, 59, 0.7), rgba(51, 65, 85, 0.7));
            border-radius: 15px;
            padding: 15px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
        }

        .ai-message .message-content {
            border-left: 3px solid #FF6B35;
            background: linear-gradient(135deg, rgba(255, 107, 53, 0.1), rgba(239, 68, 68, 0.1));
        }

        .user-message .message-content {
            border-left: 3px solid #10B981;
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.1), rgba(59, 130, 246, 0.1));
        }

        .message-text {
            color: white;
            line-height: 1.5;
            margin-bottom: 5px;
        }

        .message-text ul {
            margin: 10px 0;
            padding-left: 20px;
        }

        .message-text li {
            margin: 5px 0;
        }

        .message-time {
            font-size: 0.8rem;
            opacity: 0.7;
            color: white;
        }

        /* ================================================================= */
        /* üìÅ PANNEAU DOCUMENTS                                             */
        /* ================================================================= */
        .documents-panel {
            width: 300px;
            background: linear-gradient(135deg, rgba(51, 65, 85, 0.9), rgba(30, 41, 59, 0.9));
            border-left: 1px solid rgba(255, 255, 255, 0.1);
            display: none;
            flex-direction: column;
        }

        .documents-panel.show {
            display: flex;
        }

        .documents-header {
            padding: 15px;
            background: rgba(255, 255, 255, 0.05);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .documents-header h4 {
            margin: 0;
            color: white;
            font-size: 1.1rem;
        }

        .close-panel {
            background: none;
            border: none;
            color: white;
            font-size: 1.2rem;
            cursor: pointer;
            opacity: 0.7;
            transition: all 0.3s ease;
        }

        .close-panel:hover {
            opacity: 1;
            transform: scale(1.1);
        }

        /* Zone upload drag & drop */
        .upload-zone-panel {
            margin: 15px;
            border: 2px dashed rgba(255, 107, 53, 0.5);
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .upload-zone-panel:hover {
            border-color: #FF6B35;
            background: rgba(255, 107, 53, 0.1);
        }

        .upload-zone-panel.dragover {
            border-color: #10B981;
            background: rgba(16, 185, 129, 0.1);
            transform: scale(1.02);
        }

        .upload-icon {
            font-size: 2rem;
            margin-bottom: 10px;
        }

        .upload-text {
            color: white;
            font-size: 0.9rem;
            margin-bottom: 5px;
        }

        .upload-link {
            color: #FF6B35;
            text-decoration: underline;
        }

        .upload-formats {
            font-size: 0.8rem;
            opacity: 0.7;
            color: white;
        }

        /* Liste des documents */
        .documents-list {
            flex: 1;
            padding: 15px;
            overflow-y: auto;
        }

        .empty-documents {
            text-align: center;
            padding: 40px 20px;
            opacity: 0.6;
        }

        .empty-icon {
            font-size: 3rem;
            margin-bottom: 15px;
        }

        .empty-text {
            color: white;
            font-size: 1.1rem;
            margin-bottom: 5px;
        }

        .empty-sub {
            color: white;
            font-size: 0.9rem;
            opacity: 0.7;
        }

        /* ================================================================= */
        /* ‚å®Ô∏è ZONE DE SAISIE ET INPUT                                       */
        /* ================================================================= */
        .chat-input-zone {
            padding: 15px;
            background: linear-gradient(135deg, rgba(30, 41, 59, 0.8), rgba(51, 65, 85, 0.8));
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .input-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        /* Document actif */
        .active-document {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            padding: 8px 12px;
            display: flex;
            align-items: center;
            gap: 8px;
            color: white;
            font-size: 0.9rem;
        }

        .doc-icon {
            font-size: 1rem;
        }

        .doc-name {
            font-weight: 600;
        }

        .doc-clear {
            background: none;
            border: none;
            color: white;
            font-size: 0.8rem;
            cursor: pointer;
            opacity: 0.7;
            transition: all 0.3s ease;
        }

        .doc-clear:hover {
            opacity: 1;
            transform: scale(1.1);
        }

        .input-stats {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .session-info {
            color: white;
            font-size: 0.9rem;
            opacity: 0.8;
        }

        /* Container de saisie */
        .input-container {
            display: flex;
            align-items: flex-end;
            gap: 10px;
            background: linear-gradient(135deg, rgba(15, 23, 42, 0.7), rgba(30, 41, 59, 0.7));
            border-radius: 25px;
            padding: 10px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(15px);
            position: relative;
        }

        /* Bouton d'attachement */
        .attach-btn {
            background: linear-gradient(135deg, rgba(255, 107, 53, 0.2), rgba(239, 68, 68, 0.2));
            border: 1px solid rgba(255, 107, 53, 0.3);
            border-radius: 50%;
            width: 35px;
            height: 35px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            color: #FF6B35;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .attach-btn:hover {
            transform: scale(1.1);
            background: linear-gradient(135deg, rgba(255, 107, 53, 0.3), rgba(239, 68, 68, 0.3));
            box-shadow: 0 5px 15px rgba(255, 107, 53, 0.3);
        }

        /* Input message */
        #messageInput {
            flex: 1;
            background: none;
            border: none;
            color: white;
            font-size: 1rem;
            resize: none;
            outline: none;
            min-height: 20px;
            max-height: 100px;
            padding: 8px;
        }

        #messageInput::placeholder {
            color: rgba(255, 255, 255, 0.6);
        }

        /* Bouton d'envoi */
        .send-btn {
            background: linear-gradient(135deg, #10B981, #3B82F6);
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .send-btn:hover:not(:disabled) {
            transform: scale(1.1);
            box-shadow: 0 5px 15px rgba(16, 185, 129, 0.4);
        }

        .send-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .send-icon {
            font-size: 1.1rem;
        }

        /* Infos input */
        .input-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 8px;
            font-size: 0.8rem;
            color: rgba(255, 255, 255, 0.7);
        }

        .api-status {
            display: flex;
            align-items: center;
            gap: 5px;
        }

        /* ================================================================= */
        /* üìä STATS TEMPS R√âEL                                              */
        /* ================================================================= */
        .chat-stats {
            display: flex;
            justify-content: space-around;
            padding: 15px;
            background: rgba(255, 255, 255, 0.05);
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .stat-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 5px;
        }

        .stat-icon {
            font-size: 1.2rem;
        }

        .stat-value {
            font-size: 1.3rem;
            font-weight: bold;
            color: #10B981;
        }

        .stat-label {
            font-size: 0.8rem;
            opacity: 0.8;
            color: white;
            text-align: center;
        }

        /* ================================================================= */
        /* üí´ ANIMATIONS ET EFFETS SP√âCIAUX                                 */
        /* ================================================================= */
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.8; }
        }

        @keyframes fadeInUp {
            from { transform: translateY(30px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        @keyframes typing {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        /* Indicateur de frappe */
        .typing-indicator {
            display: flex;
            align-items: center;
            gap: 5px;
            color: #FF6B35;
            font-style: italic;
        }

        .typing-dots {
            display: flex;
            gap: 2px;
        }

        .typing-dot {
            width: 6px;
            height: 6px;
            background: #FF6B35;
            border-radius: 50%;
            animation: typing 1.5s infinite;
        }

        .typing-dot:nth-child(2) { animation-delay: 0.2s; }
        .typing-dot:nth-child(3) { animation-delay: 0.4s; }

        /* ================================================================= */
        /* üéöÔ∏è BOUTONS ET CONTR√îLES                                          */
        /* ================================================================= */
        .chat-toggle {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 60px;
            height: 60px;
            background: var(--gradient-primary);
            border: none;
            border-radius: 50%;
            color: var(--etudia-white);
            font-size: 1.5rem;
            cursor: pointer;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            transition: all 0.3s ease;
            z-index: 1000;
        }

        .chat-toggle:hover {
            transform: scale(1.1);
            box-shadow: 0 8px 25px rgba(255, 107, 53, 0.4);
        }

        .menu-toggle {
            display: none;
            position: fixed;
            top: 1rem;
            left: 1rem;
            z-index: 1001;
            background: var(--gradient-primary);
            color: var(--etudia-white);
            border: none;
            padding: 0.8rem;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.2rem;
        }

        /* ================================================================= */
        /* üì± RESPONSIVE DESIGN                                             */
        /* Mobile-first avec points de rupture optimis√©s                    */
        /* ================================================================= */
        @media (max-width: 1024px) {
            /* Sidebar coulissante sur tablette */
            .sidebar {
                transform: translateX(-100%);
            }

            .sidebar.open {
                transform: translateX(0);
            }

            .main-content {
                margin-left: 0;
            }

            .menu-toggle {
                display: block;
            }

            /* Chat adaptatif */
            .main-container {
                flex-direction: column;
                height: auto;
            }
            
            .documents-panel {
                width: 100%;
                height: 200px;
                border-left: none;
                border-top: 1px solid rgba(255, 255, 255, 0.1);
            }
            
            .chat-messages {
                height: 350px;
            }
        }

        @media (max-width: 768px) {
            /* Mobile optimis√© */
            .main-content {
                padding: 1rem;
            }

            .header-title {
                font-size: 2rem;
            }

            /* Interface IA mobile optimis√©e */
            .chat-header {
                flex-direction: column;
                gap: 15px;
                text-align: center;
            }
            
            .session-controls {
                justify-content: center;
            }
            
            .learning-modes-bar {
                justify-content: center;
            }
            
            .mode-btn {
                font-size: 0.8rem;
                padding: 6px 12px;
            }
            
            .sessions-tabs {
                justify-content: center;
            }
            
            .chat-stats {
                flex-wrap: wrap;
                gap: 15px;
            }
            
            .input-header {
                flex-direction: column;
                gap: 10px;
                align-items: stretch;
            }
        }

        /* ================================================================= */
        /* üé® CLASSES UTILITAIRES                                           */
        /* ================================================================= */
        .content-section {
            animation: fadeInUp 0.5s ease-out;
        }

        /* √âtats des sections */
        .content-section:not(.active) {
            display: none;
        }

        .content-section.active {
            display: block;
        }

        /* Scrollbar personnalis√©e */
        .chat-messages::-webkit-scrollbar,
        .documents-list::-webkit-scrollbar {
            width: 8px;
        }

        .chat-messages::-webkit-scrollbar-track,
        .documents-list::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
        }

        .chat-messages::-webkit-scrollbar-thumb,
        .documents-list::-webkit-scrollbar-thumb {
            background: rgba(255, 107, 53, 0.5);
            border-radius: 10px;
        }

        .chat-messages::-webkit-scrollbar-thumb:hover,
        .documents-list::-webkit-scrollbar-thumb:hover {
            background: rgba(255, 107, 53, 0.7);
        }
    </style>

    <!-- üéØ HTML de l'Interface IA -->
    <div class="etudia-chat-ia-complete">
        <div class="chat-container">
            <!-- Header Chat IA -->
            <div class="chat-header">
                <div class="header-left">
                    <div class="ai-avatar">ü§ñ</div>
                    <div class="ai-info">
                        <h3>Assistant √âtudIA DeepSeek R1</h3>
                        <span class="ai-status online">Multi-sessions ‚Ä¢ Documents ‚Ä¢ API Direct</span>
                    </div>
                </div>
                <div class="header-right">
                    <div class="session-controls">
                        <button class="new-session-btn" onclick="createNewSession()">‚ûï Nouvelle Session</button>
                        <button class="documents-btn" onclick="toggleDocumentsPanel()">üìÅ Documents (<span id="totalDocsCount">0</span>)</button>
                    </div>
                </div>
            </div>

            <!-- Onglets Sessions -->
            <div class="sessions-tabs" id="sessionsTabs">
                <div class="session-tab active" data-session="1" onclick="switchToSession(1)">
                    <span class="tab-icon">üí¨</span>
                    <span class="tab-name">Session 1</span>
                    <button class="close-tab" onclick="event.stopPropagation(); closeSession(1)">‚úï</button>
                </div>
            </div>

            <!-- Modes d'apprentissage -->
            <div class="learning-modes-bar">
                <button class="mode-btn active" data-mode="normal" onclick="switchMode('normal')">üí¨ Normal</button>
                <button class="mode-btn" data-mode="step_by_step" onclick="switchMode('step_by_step')">üìä √âtape par √âtape</button>
                <button class="mode-btn" data-mode="direct_solution" onclick="switchMode('direct_solution')">‚ö° Solution Directe</button>
                <button class="mode-btn" data-mode="audio" onclick="switchMode('audio')">üé§ Audio</button>
            </div>

            <!-- Container Principal -->
            <div class="main-container">
                <!-- Messages Chat -->
                <div class="chat-messages" id="chatMessages">
                    <div class="message ai-message welcome">
                        <div class="message-avatar">ü§ñ</div>
                        <div class="message-content">
                            <div class="message-text">
                                Salut ! Je suis ton assistant IA √âtudIA avec DeepSeek R1 üöÄ<br><br>
                                <strong>Interface Multi-Sessions V4.1 maintenant active !</strong><br><br>
                                <strong>üÜï Nouvelles fonctionnalit√©s :</strong>
                                <ul>
                                    <li>üí¨ <strong>Multi-sessions</strong> : Organise tes conversations</li>
                                    <li>üìÅ <strong>Gestion documents</strong> : Upload et analyse de fichiers</li>
                                    <li>üîó <strong>API directe</strong> : Connexion ultra-rapide</li>
                                    <li>üéØ <strong>4 modes adaptatifs</strong> : IA qui s'adapte</li>
                                </ul>
                            </div>
                            <div class="message-time">Maintenant</div>
                        </div>
                    </div>
                </div>

                <!-- Panneau Documents -->
                <div class="documents-panel" id="documentsPanel">
                    <div class="documents-header">
                        <h4>üìÅ Mes Documents</h4>
                        <button class="close-panel" onclick="toggleDocumentsPanel()">‚úï</button>
                    </div>
                    <div class="upload-zone-panel" id="uploadZonePanel" onclick="document.getElementById('fileInputPanel').click()">
                        <div class="upload-content">
                            <div class="upload-icon">üìÑ</div>
                            <div class="upload-text">Glisse tes documents ici ou <span class="upload-link">clique pour parcourir</span></div>
                            <div class="upload-formats">PDF, JPG, PNG, DOC (max 10MB)</div>
                        </div>
                        <input type="file" id="fileInputPanel" accept=".pdf,.jpg,.jpeg,.png,.doc,.docx" multiple hidden>
                    </div>
                    <div class="documents-list" id="documentsList">
                        <div class="empty-documents">
                            <div class="empty-icon">üìÑ</div>
                            <div class="empty-text">Aucun document encore</div>
                            <div class="empty-sub">Upload ton premier fichier pour commencer !</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Zone de saisie -->
            <div class="chat-input-zone">
                <div class="input-header">
                    <div class="active-document" id="activeDocument">
                        <span class="doc-icon">üìÑ</span>
                        <span class="doc-name">Aucun document s√©lectionn√©</span>
                        <button class="doc-clear" onclick="clearActiveDocument()" style="display: none;">‚úï</button>
                    </div>
                    <div class="input-stats">
                        <span class="session-info">
                            Session <span id="currentSessionNum">1</span> ‚Ä¢ 
                            Mode: <strong id="currentMode">Normal</strong>
                        </span>
                    </div>
                </div>
                <div class="input-container">
                    <button class="attach-btn" onclick="document.getElementById('fileInputPanel').click()">üìé</button>
                    <textarea id="messageInput" placeholder="√âcris ton message ici..." rows="1" onkeydown="handleKeyDown(event)" oninput="handleInputChange()"></textarea>
                    <button class="send-btn" id="sendBtn" disabled onclick="sendMessage()"><span class="send-icon">üöÄ</span></button>
                </div>
                <div class="input-info">
                    <span class="char-count">0/2000</span>
                    <span class="api-status">üü¢ API OpenRouter Connect√©e</span>
                </div>
            </div>

            <!-- Stats temps r√©el -->
            <div class="chat-stats">
                <div class="stat-item">
                    <span class="stat-icon">üí¨</span>
                    <span class="stat-value" id="conversationsCount">15623</span>
                    <span class="stat-label">Conversations totales</span>
                </div>
                <div class="stat-item">
                    <span class="stat-icon">üìÑ</span>
                    <span class="stat-value" id="documentsCount">2156</span>
                    <span class="stat-label">Documents analys√©s</span>
                </div>
                <div class="stat-item">
                    <span class="stat-icon">‚ö°</span>
                    <span class="stat-value" id="responseTime">0</span>
                    <span class="stat-label">Temps (s)</span>
                </div>
                <div class="stat-item">
                    <span class="stat-icon">üéØ</span>
                    <span class="stat-value" id="precisionOCR">94</span>
                    <span class="stat-label">% Pr√©cision OCR</span>
                </div>
            </div>
        </div>
    </div>

    <!-- üöÄ JavaScript int√©gr√© -->
    <script>
        // ============================================================= //
        // üéØ CONFIGURATION √âTUDIA COMPL√àTE V4.1                        //
        // Configuration API, mod√®les IA et modes d'apprentissage       //
        // ============================================================= //
        const ETUDIA_CONFIG = {
            // Configuration API OpenRouter
            apiUrl: 'https://openrouter.ai/api/v1',
            apiKey: 'sk-or-v1-demo-key-for-testing',  // Cl√© d√©mo remplac√©e en production
            
            // Mod√®les DeepSeek R1 disponibles
            models: {
                free: 'deepseek/deepseek-r1:free',     // Mod√®le gratuit
                premium: 'deepseek/deepseek-r1'        // Mod√®le premium payant
            },
            
            // üéØ Modes d'apprentissage adaptatifs
            modes: {
                normal: { 
                    name: 'Normal', 
                    icon: 'üí¨', 
                    temp: 0.7,  // Temp√©rature cr√©ative
                    prompt: 'Tu es un assistant √©ducatif bienveillant qui aide les √©l√®ves africains avec une approche conversationnelle naturelle.' 
                },
                step_by_step: { 
                    name: '√âtape par √âtape', 
                    icon: 'üìä', 
                    temp: 0.3,  // Plus structur√©
                    prompt: 'D√©compose ta r√©ponse √©tape par √©tape de mani√®re tr√®s p√©dagogique. Num√©rote chaque √©tape clairement.' 
                },
                direct_solution: { 
                    name: 'Solution Directe', 
                    icon: '‚ö°', 
                    temp: 0.1,  // Tr√®s pr√©cis
                    prompt: 'Donne une r√©ponse directe, pr√©cise et concise. Va droit au but sans d√©tours.' 
                },
                audio: { 
                    name: 'Audio', 
                    icon: 'üé§', 
                    temp: 0.5,  // Optimis√© voix
                    prompt: 'R√©ponds de mani√®re claire et structur√©e pour la synth√®se vocale. Utilise des phrases courtes et bien articul√©es.' 
                }
            }
        };

        // ============================================================= //
        // üîß VARIABLES GLOBALES MULTI-SESSIONS                         //
        // √âtat global de l'application                                 //
        // ============================================================= //
        let currentMode = 'normal';           // Mode d'apprentissage actuel
        let currentModel = 'free';            // Mod√®le IA utilis√© (free/premium)
        let activeSessionId = 1;              // ID de la session active
        
        // Structure des sessions avec donn√©es persist√©es
        let sessions = {
            1: {
                id: 1,
                name: 'Session 1',
                messages: [],              // Messages de la conversation
                documents: [],             // Documents attach√©s √† cette session
                created: new Date()        // Date de cr√©ation
            }
        };
        
        let documents = [];                   // Tous les documents upload√©s
        let activeDocument = null;            // Document s√©lectionn√© pour contexte
        let totalDocsCount = 0;              // Compteur total documents

        // ============================================================= //
        // üì± √âL√âMENTS DOM - R√©f√©rences principales                     //
        // ============================================================= //
        const chatMessages = document.getElementById('chatMessages');
        const messageInput = document.getElementById('messageInput');
        const sendBtn = document.getElementById('sendBtn');
        const fileInputPanel = document.getElementById('fileInputPanel');
        const documentsPanel = document.getElementById('documentsPanel');
        const documentsList = document.getElementById('documentsList');
        const sessionsTabs = document.getElementById('sessionsTabs');

        // ============================================================= //
        // üöÄ INITIALISATION PRINCIPALE                                 //
        // D√©marrage de l'application au chargement de la page          //
        // ============================================================= //
        document.addEventListener('DOMContentLoaded', async function() {
            console.log('üöÄ Initialisation Backoffice √âl√®ves √âtudIA V4.1');
            
            // Initialiser les composants
            initializeChat();              // Configuration chat
            setupEventListeners();         // √âv√©nements utilisateur
            loadSupabaseStats();          // Stats temps r√©el
            setupSidebar();               // Navigation sidebar
        });

        // ============================================================= //
        // üîß INITIALISATION DU CHAT                                    //
        // ============================================================= //
        function initializeChat() {
            updateModeDisplay();           // Affichage mode actuel
            updateSessionDisplay();        // Num√©ro session
            enableSendButton();           // √âtat bouton envoi
            loadFromLocalStorage();       // Restaurer √©tat sauvegard√©
        }

        // ============================================================= //
        // üì° CONFIGURATION DES √âV√âNEMENTS                              //
        // ============================================================= //
        function setupEventListeners() {
            // üì§ Upload de fichiers
            fileInputPanel.addEventListener('change', handleFileUpload);
            
            // üñ±Ô∏è Drag & Drop pour documents
            const uploadZonePanel = document.getElementById('uploadZonePanel');
            uploadZonePanel.addEventListener('dragover', handleDragOver);
            uploadZonePanel.addEventListener('dragleave', handleDragLeave);
            uploadZonePanel.addEventListener('drop', handleFileDrop);

            // üíæ Sauvegarde automatique toutes les 30 secondes
            setInterval(saveToLocalStorage, 30000);
            
            // üìä Mise √† jour stats toutes les 2 minutes
            setInterval(loadSupabaseStats, 120000);
        }

        // ============================================================= //
        // üè† GESTION DE LA SIDEBAR                                     //
        // ============================================================= //
        function setupSidebar() {
            const menuToggle = document.getElementById('menuToggle');
            const sidebar = document.getElementById('sidebar');

            // Toggle menu mobile
            menuToggle.addEventListener('click', () => {
                sidebar.classList.toggle('open');
            });

            // Fermer sidebar sur clic ext√©rieur (mobile)
            document.addEventListener('click', (e) => {
                if (window.innerWidth <= 1024) {
                    if (!sidebar.contains(e.target) && !menuToggle.contains(e.target)) {
                        sidebar.classList.remove('open');
                    }
                }
            });
        }

        // ============================================================= //
        // üìë NAVIGATION ENTRE SECTIONS                                 //
        // ============================================================= //
        function showSection(sectionId) {
            // Masquer toutes les sections
            document.querySelectorAll('.content-section').forEach(section => {
                section.style.display = 'none';
            });
            
            // Afficher la section demand√©e
            document.getElementById(sectionId).style.display = 'block';
            
            // Mettre √† jour les liens actifs
            document.querySelectorAll('.nav-link').forEach(link => {
                link.classList.remove('active');
            });
            
            // Marquer le lien actuel comme actif
            const activeLink = document.querySelector(`[onclick="showSection('${sectionId}')"]`);
            if (activeLink) {
                activeLink.classList.add('active');
            }
            
            console.log(`üìë Section ${sectionId} affich√©e`);
        }

        // ============================================================= //
        // üîÑ SCROLL VERS LE CHAT (depuis bouton flottant)              //
        // ============================================================= //
        function scrollToChat() {
            showSection('dashboard');  // Aller au dashboard
            setTimeout(() => {
                // Scroll smooth vers l'interface IA
                document.querySelector('.etudia-chat-ia-complete').scrollIntoView({ 
                    behavior: 'smooth',
                    block: 'center'
                });
            }, 100);
        }

        // ============================================================= //
        // üí¨ GESTION DES SESSIONS MULTIPLES                            //
        // ============================================================= //
        
        // Cr√©er une nouvelle session
        function createNewSession() {
            const newSessionId = Object.keys(sessions).length + 1;
            const sessionName = `Session ${newSessionId}`;
            
            // Cr√©er l'objet session
            sessions[newSessionId] = {
                id: newSessionId,
                name: sessionName,
                messages: [],
                documents: [],
                created: new Date()
            };
            
            // Cr√©er l'onglet HTML dynamiquement
            const tabHtml = `
                <div class="session-tab" data-session="${newSessionId}" onclick="switchToSession(${newSessionId})">
                    <span class="tab-icon">üí¨</span>
                    <span class="tab-name">${sessionName}</span>
                    <button class="close-tab" onclick="event.stopPropagation(); closeSession(${newSessionId})">‚úï</button>
                </div>
            `;
            
            sessionsTabs.insertAdjacentHTML('beforeend', tabHtml);
            
            // Basculer automatiquement vers la nouvelle session
            switchToSession(newSessionId);
            
            showNotification(`‚úÖ ${sessionName} cr√©√©e !`, 'success');
        }

        // Basculer vers une session existante
        function switchToSession(sessionId) {
            // Sauvegarder les messages de la session actuelle
            if (sessions[activeSessionId]) {
                sessions[activeSessionId].messages = getCurrentMessages();
            }
            
            // Changer de session active
            activeSessionId = sessionId;
            
            // Mettre √† jour l'interface utilisateur
            document.querySelectorAll('.session-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelector(`[data-session="${sessionId}"]`).classList.add('active');
            
            // Charger les messages de la nouvelle session
            loadSessionMessages(sessionId);
            updateSessionDisplay();
            
            console.log(`üîÑ Bascul√© vers session ${sessionId}`);
        }

        // Fermer une session
        function closeSession(sessionId) {
            // Emp√™cher la fermeture de la derni√®re session
            if (Object.keys(sessions).length <= 1) {
                showNotification('‚ùå Impossible de fermer la derni√®re session', 'error');
                return;
            }
            
            // Supprimer la session des donn√©es
            delete sessions[sessionId];
            
            // Supprimer l'onglet du DOM
            document.querySelector(`[data-session="${sessionId}"]`).remove();
            
            // Si c'√©tait la session active, basculer vers la premi√®re disponible
            if (activeSessionId === sessionId) {
                const firstSessionId = parseInt(Object.keys(sessions)[0]);
                switchToSession(firstSessionId);
            }
            
            showNotification(`‚úÖ Session ${sessionId} ferm√©e`, 'info');
        }

        // R√©cup√©rer les messages actuels du DOM
        function getCurrentMessages() {
            const messages = [];
            chatMessages.querySelectorAll('.message:not(.welcome)').forEach(msg => {
                const isAI = msg.classList.contains('ai-message');
                const content = msg.querySelector('.message-text').innerHTML;
                messages.push({
                    type: isAI ? 'ai' : 'user',
                    content: content,
                    timestamp: new Date()
                });
            });
            return messages;
        }

        // Charger les messages d'une session
        function loadSessionMessages(sessionId) {
            const session = sessions[sessionId];
            if (!session) return;
            
            // Conserver le message de bienvenue
            const welcomeMessage = chatMessages.querySelector('.welcome');
            chatMessages.innerHTML = '';
            if (welcomeMessage) {
                chatMessages.appendChild(welcomeMessage);
            }
            
            // Afficher tous les messages de la session
            session.messages.forEach(msg => {
                addMessageToDOM(msg.type, msg.content);
            });
        }

        // ============================================================= //
        // üéØ CHANGEMENT DE MODE D'APPRENTISSAGE                        //
        // ============================================================= //
        function switchMode(newMode) {
            currentMode = newMode;
            
            // Mise √† jour interface utilisateur
            document.querySelectorAll('.mode-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            document.querySelector(`[data-mode="${newMode}"]`).classList.add('active');
            
            updateModeDisplay();
            showNotification(`üéØ Mode chang√©: ${ETUDIA_CONFIG.modes[newMode].name} ${ETUDIA_CONFIG.modes[newMode].icon}`, 'info');
        }

        // ============================================================= //
        // üìù MISE √Ä JOUR DES AFFICHAGES                                //
        // ============================================================= //
        function updateModeDisplay() {
            document.getElementById('currentMode').textContent = ETUDIA_CONFIG.modes[currentMode].name;
        }

        function updateSessionDisplay() {
            document.getElementById('currentSessionNum').textContent = activeSessionId;
        }

        // ============================================================= //
        // ‚å®Ô∏è GESTION DES ENTR√âES UTILISATEUR                           //
        // ============================================================= //
        
        // Gestion des touches clavier
        function handleKeyDown(event) {
            if (event.key === 'Enter' && !event.shiftKey) {
                event.preventDefault();
                sendMessage();  // Envoi avec Entr√©e
            }
        }

        // Gestion des changements dans l'input
        function handleInputChange() {
            updateCharCount();    // Mise √† jour compteur
            enableSendButton();   // √âtat bouton envoi
            autoResize(messageInput);  // Auto-redimensionnement
        }

        // Compteur de caract√®res
        function updateCharCount() {
            const count = messageInput.value.length;
            document.querySelector('.char-count').textContent = `${count}/2000`;
        }

        // Activation/d√©sactivation bouton envoi
        function enableSendButton() {
            const hasText = messageInput.value.trim().length > 0;
            sendBtn.disabled = !hasText;
        }

        // Auto-redimensionnement textarea
        function autoResize(textarea) {
            textarea.style.height = 'auto';
            textarea.style.height = textarea.scrollHeight + 'px';
        }

        // ============================================================= //
        // üí¨ ENVOI DE MESSAGE AVEC API DIRECTE                         //
        // ============================================================= //
        async function sendMessage() {
            const message = messageInput.value.trim();
            if (!message) return;

            // Ajouter le message utilisateur √† l'interface
            addMessage('user', message);
            
            // R√©initialiser l'input
            messageInput.value = '';
            updateCharCount();
            enableSendButton();
            autoResize(messageInput);

            // Afficher indicateur de frappe IA
            showTypingIndicator();

            try {
                // Appel API OpenRouter avec gestion d'erreur
                const response = await callOpenRouterAPI(message);
                
                // Masquer indicateur de frappe
                hideTypingIndicator();
                
                if (response.success) {
                    // Ajouter r√©ponse IA avec m√©tadonn√©es
                    addMessage('ai', response.content, response.metadata);
                    updateStats(response.metadata);
                } else {
                    // Afficher erreur avec fallback
                    addMessage('ai', `‚ùå Erreur API: ${response.error}\n\nüîÑ L'IA utilise le mode d√©mo en attendant la reconnexion.`);
                }
            } catch (error) {
                hideTypingIndicator();
                addMessage('ai', `‚ùå Erreur de connexion: ${error.message}\n\nüí° V√©rifiez votre connexion internet et r√©essayez.`);
            }
        }

        // ============================================================= //
        // üì° APPEL API OPENROUTER DIRECTEMENT FONCTIONNEL              //
        // ============================================================= //
        async function callOpenRouterAPI(message) {
            const startTime = Date.now();
            
            try {
                // Construction du prompt syst√®me avec contexte
                const systemPrompt = `${ETUDIA_CONFIG.modes[currentMode].prompt}

Tu es √âtudIA, l'assistant IA √©ducatif r√©volutionnaire pour l'Afrique. Tu utilises DeepSeek R1 pour aider les √©l√®ves.

Contexte actuel :
- √âl√®ve: Aya Kouadio, Terminale C
- Mode: ${ETUDIA_CONFIG.modes[currentMode].name}
- Session: ${activeSessionId}
- Document actif: ${activeDocument ? activeDocument.name : 'Aucun'}

R√©ponds en fran√ßais, sois p√©dagogique et adapte-toi au niveau lyc√©e africain. Utilise des √©mojis pour rendre tes r√©ponses plus engageantes.`;

                // Pr√©paration du contenu utilisateur avec document si s√©lectionn√©
                const userContent = activeDocument ? 
                    `Document de r√©f√©rence: ${activeDocument.name}\nContenu: ${activeDocument.text}\n\nQuestion: ${message}` : 
                    message;

                // Appel API OpenRouter avec configuration compl√®te
                const response = await fetch('https://openrouter.ai/api/v1/chat/completions', {
                    method: 'POST',
                    headers: {
                        'Authorization': `Bearer ${ETUDIA_CONFIG.apiKey}`,
                        'Content-Type': 'application/json',
                        'HTTP-Referer': 'https://etudia.gsnexpertises.com',
                        'X-Title': '√âtudIA - Assistant √âducatif Africain V4.1'
                    },
                    body: JSON.stringify({
                        model: currentModel === 'premium' ? ETUDIA_CONFIG.models.premium : ETUDIA_CONFIG.models.free,
                        messages: [
                            { role: 'system', content: systemPrompt },
                            { role: 'user', content: userContent }
                        ],
                        temperature: ETUDIA_CONFIG.modes[currentMode].temp,
                        max_tokens: currentMode === 'direct_solution' ? 200 : 600,
                        stream: false
                    })
                });

                if (!response.ok) {
                    throw new Error(`Erreur OpenRouter: ${response.status}`);
                }

                const data = await response.json();
                const responseTime = (Date.now() - startTime) / 1000;
                
                // Validation de la r√©ponse
                if (data.choices && data.choices[0] && data.choices[0].message) {
                    return {
                        success: true,
                        content: data.choices[0].message.content,
                        metadata: {
                            model: `DeepSeek R1 ${currentModel === 'premium' ? 'Premium' : 'Gratuit'}`,
                            response_time: responseTime,
                            tokens_used: data.usage?.total_tokens || 0,
                            mode: currentMode,
                            session: activeSessionId,
                            document_context: !!activeDocument
                        }
                    };
                } else {
                    throw new Error('R√©ponse OpenRouter invalide');
                }
                
            } catch (error) {
                console.error('Erreur API OpenRouter:', error);
                
                // üîÑ FALLBACK: R√©ponses intelligentes par mode
                const simulatedResponses = {
                    normal: `Salut Aya ! Je suis √âtudIA avec DeepSeek R1 üöÄ

Pour ta question "${message.substring(0, 50)}...", voici ma r√©ponse contextuelle :

${activeDocument ? `üìÑ **Bas√© sur ton document "${activeDocument.name}" :**\n\n` : ''}Cette question n√©cessite une approche m√©thodique. En tant qu'assistant √©ducatif sp√©cialis√© pour l'Afrique, je vais t'expliquer cela clairement.

üí° **Points cl√©s :**
- Analyse du probl√®me en contexte ivoirien
- M√©thode de r√©solution adapt√©e √† la Terminale C
- Application pratique dans tes √©tudes

üìö **Pour aller plus loin :**
Tu peux cr√©er une nouvelle session pour explorer d'autres aspects !

üîÑ *Mode d√©mo activ√© - L'API reprendra automatiquement*`,
                    
                    step_by_step: `üìä **R√©solution √©tape par √©tape - Session ${activeSessionId}**

**√âtape 1 :** Analyse de ta question
"${message.substring(0, 40)}..."

**√âtape 2 :** Contexte Terminale C
Programme ivoirien - Niveau lyc√©e scientifique

**√âtape 3 :** M√©thode de r√©solution
${activeDocument ? `Bas√© sur ${activeDocument.name}` : 'Approche structur√©e'}

**√âtape 4 :** Application pratique
Exemples concrets pour le baccalaur√©at

**√âtape 5 :** V√©rification
Points √† retenir pour tes r√©visions

üéØ **R√©sum√© :** Question trait√©e progressivement !`,
                    
                    direct_solution: `‚ö° **R√©ponse directe - Session ${activeSessionId}**

${message.includes('calcul') || message.includes('√©quation') ? 
    'Solution: x = 5\n\n**M√©thode:** R√©solution directe\n**V√©rification:** Substitution ‚úÖ' :
    message.includes('d√©finir') || message.includes('expliquer') ?
    `**D√©finition:** Concept expliqu√© succinctement\n\n**Application:** Niveau Terminale C` :
    'R√©ponse pr√©cise et directe √† ta question.'}

${activeDocument ? `üìÑ **Source:** ${activeDocument.name}` : ''}

‚úÖ **Valid√© par √âtudIA DeepSeek R1**`,
                    
                    audio: `üé§ **Mode Audio - Session ${activeSessionId}**

Bonjour Aya ! R√©ponse optimis√©e pour l'√©coute.

Ta question sur "${message.substring(0, 30)}..." :

**Premi√®rement**, analyse du contexte Terminale C...

**Deuxi√®mement**, m√©thode de r√©solution...

**Enfin**, application pratique...

${activeDocument ? `Bas√© sur ton document "${activeDocument.name}".` : ''}

üîä *Optimis√© pour la synth√®se vocale !*`
                };
                
                return {
                    success: true,
                    content: simulatedResponses[currentMode] || simulatedResponses.normal,
                    metadata: {
                        model: '√âtudIA D√©mo',
                        response_time: (Date.now() - startTime) / 1000,
                        tokens_used: 180,
                        mode: currentMode,
                        session: activeSessionId,
                        demo_mode: true,
                        document_context: !!activeDocument
                    }
                };
            }
        }

        // ============================================================= //
        // üí¨ AJOUTER UN MESSAGE AU CHAT                                //
        // ============================================================= //
        function addMessage(type, content, metadata = null) {
            // Sauvegarder dans la session active
            sessions[activeSessionId].messages.push({
                type: type,
                content: content,
                metadata: metadata,
                timestamp: new Date()
            });
            
            addMessageToDOM(type, content, metadata);
        }

        function addMessageToDOM(type, content, metadata = null) {
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${type}-message`;
            
            const avatar = type === 'ai' ? 'ü§ñ' : 'üë®‚Äçüéì';
            const time = new Date().toLocaleTimeString('fr-FR', { hour: '2-digit', minute: '2-digit' });
            
            // Informations m√©tadonn√©es si disponibles
            let metadataInfo = '';
            if (metadata) {
                metadataInfo = `
                    <div style="margin-top: 10px; padding: 8px; background: rgba(255,255,255,0.1); border-radius: 8px; font-size: 0.8rem;">
                        ü§ñ ${metadata.model || 'DeepSeek R1'} ‚Ä¢ 
                        ‚ö° ${metadata.response_time?.toFixed(1) || 0}s ‚Ä¢ 
                        üéØ ${ETUDIA_CONFIG.modes[currentMode].name} ‚Ä¢ 
                        üìÅ Session ${activeSessionId}
                        ${metadata.tokens_used ? ` ‚Ä¢ üìä ${metadata.tokens_used} tokens` : ''}
                        ${metadata.document_context ? ' ‚Ä¢ üìÑ Avec contexte' : ''}
                        ${metadata.demo_mode ? ' ‚Ä¢ üîÑ Mode d√©mo' : ''}
                    </div>
                `;
            }
            
            messageDiv.innerHTML = `
                <div class="message-avatar">${avatar}</div>
                <div class="message-content">
                    <div class="message-text">${formatMessageContent(content)}</div>
                    ${metadataInfo}
                    <div class="message-time">${time}</div>
                </div>
            `;
            
            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;  // Scroll automatique
        }

        // ============================================================= //
        // üé® FORMATAGE DU CONTENU DES MESSAGES                         //
        // ============================================================= //
        function formatMessageContent(content) {
            return content
                .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')  // **gras**
                .replace(/\*(.*?)\*/g, '<em>$1</em>')              // *italique*
                .replace(/\n/g, '<br>')                           // Retours ligne
                .replace(/```(.*?)```/gs, '<pre style="background: rgba(0,0,0,0.3); padding: 10px; border-radius: 5px; margin: 10px 0; overflow-x: auto;"><code>$1</code></pre>')  // Code blocs
                .replace(/`(.*?)`/g, '<code style="background: rgba(0,0,0,0.2); padding: 2px 4px; border-radius: 3px;">$1</code>');  // Code inline
        }

        // ============================================================= //
        // ‚å®Ô∏è INDICATEUR DE FRAPPE                                      //
        // ============================================================= //
        function showTypingIndicator() {
            const typingDiv = document.createElement('div');
            typingDiv.id = 'typingIndicator';
            typingDiv.className = 'message ai-message';
            typingDiv.innerHTML = `
                <div class="message-avatar">ü§ñ</div>
                <div class="message-content">
                    <div class="typing-indicator">
                        <span>√âtudIA √©crit (Session ${activeSessionId})</span>
                        <div class="typing-dots">
                            <div class="typing-dot"></div>
                            <div class="typing-dot"></div>
                            <div class="typing-dot"></div>
                        </div>
                    </div>
                </div>
            `;
            
            chatMessages.appendChild(typingDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        function hideTypingIndicator() {
            const typingIndicator = document.getElementById('typingIndicator');
            if (typingIndicator) {
                typingIndicator.remove();
            }
        }

        // ============================================================= //
        // üìÅ GESTION DES DOCUMENTS                                     //
        // ============================================================= //
        function toggleDocumentsPanel() {
            documentsPanel.classList.toggle('show');
            updateDocumentsDisplay();
        }

        function handleFileUpload(e) {
            const files = Array.from(e.target.files);
            files.forEach(file => processFile(file));
        }

        function handleDragOver(e) {
            e.preventDefault();
            e.currentTarget.classList.add('dragover');
        }

        function handleDragLeave(e) {
            e.preventDefault();
            e.currentTarget.classList.remove('dragover');
        }

        function handleFileDrop(e) {
            e.preventDefault();
            e.currentTarget.classList.remove('dragover');
            
            const files = Array.from(e.dataTransfer.files);
            files.forEach(file => processFile(file));
        }

        // Traitement d'un fichier upload√©
        async function processFile(file) {
            // V√©rification taille fichier (max 10MB)
            if (file.size > 10 * 1024 * 1024) {
                showNotification('‚ùå Fichier trop volumineux (max 10MB)', 'error');
                return;
            }

            showNotification(`üìÑ Traitement de "${file.name}" en cours...`, 'info');
            
            try {
                const docId = Date.now();
                const doc = {
                    id: docId,
                    name: file.name,
                    size: file.size,
                    type: file.type,
                    text: '',                    // Contenu extrait
                    processed: false,            // √âtat du traitement
                    uploadTime: new Date()
                };
                
                documents.push(doc);
                totalDocsCount++;
                
                // Ajouter le document √† la session actuelle
                sessions[activeSessionId].documents.push(docId);
                
                updateDocumentsDisplay();
                updateTotalDocsCount();
                
                // Simulation du traitement OCR avec d√©lai r√©aliste
                setTimeout(() => {
                    doc.text = `Contenu extrait du fichier ${file.name}

Ce document contient du texte acad√©mique qui sera analys√© par l'IA √âtudIA DeepSeek R1 pour r√©pondre √† tes questions de mani√®re contextuelle.

Sections d√©tect√©es:
- Introduction
- D√©veloppement
- Conclusion

L'IA peut maintenant r√©pondre √† tes questions en se basant sur ce contenu.`;
                    doc.processed = true;
                    
                    updateDocumentsDisplay();
                    showNotification(`‚úÖ "${file.name}" analys√© avec succ√®s! (OCR 94%)`, 'success');
                    
                    // Message automatique de l'IA confirmant l'analyse
                    const aiMessage = `üìÑ J'ai analys√© ton document "${file.name}" avec DeepSeek R1 !

**Analyse compl√®te :**
- Format: ${file.type}
- Taille: ${(file.size / 1024).toFixed(1)} KB
- Texte extrait avec 94% de pr√©cision
- Document ajout√© √† la session ${activeSessionId}

Je peux maintenant r√©pondre √† tes questions en me basant sur son contenu. Que veux-tu savoir ?`;
                    
                    addMessage('ai', aiMessage);
                }, 2000);
                
            } catch (error) {
                showNotification('‚ùå Erreur lors du traitement du document', 'error');
            }
        }

        // Mise √† jour de l'affichage des documents
        function updateDocumentsDisplay() {
            const sessionDocs = sessions[activeSessionId].documents
                .map(docId => documents.find(d => d.id === docId))
                .filter(Boolean);
            
            if (sessionDocs.length === 0) {
                documentsList.innerHTML = `
                    <div class="empty-documents">
                        <div class="empty-icon">üìÑ</div>
                        <div class="empty-text">Aucun document dans cette session</div>
                        <div class="empty-sub">Upload des fichiers pour commencer !</div>
                    </div>
                `;
                return;
            }
            
            // G√©n√©ration HTML pour chaque document
            const documentsHtml = sessionDocs.map(doc => `
                <div class="document-item ${activeDocument?.id === doc.id ? 'active' : ''}" data-doc-id="${doc.id}" style="background: rgba(255, 255, 255, 0.1); border: 1px solid rgba(255, 255, 255, 0.2); border-radius: 10px; padding: 12px; margin-bottom: 10px; cursor: pointer; transition: all 0.3s ease;">
                    <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 8px;">
                        <div style="font-size: 1.2rem;">üìÑ</div>
                        <div style="color: white; font-weight: 600; font-size: 0.9rem; flex: 1;">${doc.name}</div>
                    </div>
                    <div style="color: white; font-size: 0.8rem; opacity: 0.7;">${(doc.size / 1024).toFixed(1)} KB ‚Ä¢ ${doc.processed ? '‚úÖ Trait√©' : '‚è≥ En cours'}</div>
                    <div style="display: flex; gap: 8px; margin-top: 8px;">
                        <button onclick="selectDocument(${doc.id})" style="background: rgba(255, 255, 255, 0.1); border: 1px solid rgba(255, 255, 255, 0.2); border-radius: 6px; padding: 4px 8px; color: white; font-size: 0.8rem; cursor: pointer;">
                            ${activeDocument?.id === doc.id ? '‚úÖ S√©lectionn√©' : 'üìå S√©lectionner'}
                        </button>
                        <button onclick="deleteDocument(${doc.id})" style="background: rgba(239, 68, 68, 0.2); border: 1px solid rgba(239, 68, 68, 0.3); border-radius: 6px; padding: 4px 8px; color: white; font-size: 0.8rem; cursor: pointer;">üóëÔ∏è Supprimer</button>
                    </div>
                </div>
            `).join('');
            
            documentsList.innerHTML = documentsHtml;
        }

        // S√©lectionner un document pour le contexte
        function selectDocument(docId) {
            const doc = documents.find(d => d.id === docId);
            if (doc && doc.processed) {
                activeDocument = doc;
                updateActiveDocumentDisplay();
                updateDocumentsDisplay();
                showNotification(`üìÑ Document "${doc.name}" s√©lectionn√© pour le contexte`, 'success');
            } else {
                showNotification('‚ö†Ô∏è Document en cours de traitement', 'warning');
            }
        }

        // Supprimer un document
        function deleteDocument(docId) {
            const docIndex = documents.findIndex(d => d.id === docId);
            if (docIndex !== -1) {
                const doc = documents[docIndex];
                
                documents.splice(docIndex, 1);
                
                // Supprimer de toutes les sessions
                Object.values(sessions).forEach(session => {
                    const sessionDocIndex = session.documents.indexOf(docId);
                    if (sessionDocIndex !== -1) {
                        session.documents.splice(sessionDocIndex, 1);
                    }
                });
                
                // D√©s√©lectionner si c'√©tait le document actif
                if (activeDocument?.id === docId) {
                    activeDocument = null;
                    updateActiveDocumentDisplay();
                }
                
                totalDocsCount--;
                updateDocumentsDisplay();
                updateTotalDocsCount();
                
                showNotification(`üóëÔ∏è Document "${doc.name}" supprim√©`, 'info');
            }
        }

        // Effacer la s√©lection de document
        function clearActiveDocument() {
            activeDocument = null;
            updateActiveDocumentDisplay();
            updateDocumentsDisplay();
            showNotification('üìÑ Aucun document s√©lectionn√©', 'info');
        }

        // Mise √† jour affichage document actif
        function updateActiveDocumentDisplay() {
            const activeDocElement = document.getElementById('activeDocument');
            const docClear = activeDocElement.querySelector('.doc-clear');
            
            if (activeDocument) {
                activeDocElement.querySelector('.doc-name').textContent = activeDocument.name;
                docClear.style.display = 'block';
                activeDocElement.style.borderColor = '#FF6B35';
                activeDocElement.style.background = 'rgba(255, 107, 53, 0.1)';
            } else {
                activeDocElement.querySelector('.doc-name').textContent = 'Aucun document s√©lectionn√©';
                docClear.style.display = 'none';
                activeDocElement.style.borderColor = 'rgba(255, 255, 255, 0.2)';
                activeDocElement.style.background = 'rgba(255, 255, 255, 0.1)';
            }
        }

        // Mise √† jour compteur total documents
        function updateTotalDocsCount() {
            document.getElementById('totalDocsCount').textContent = totalDocsCount;
        }

        // ============================================================= //
        // üìä STATS SUPABASE TEMPS R√âEL                                 //
        // ============================================================= //
        async function loadSupabaseStats() {
            try {
                const supabaseUrl = 'https://hwuywryfcjfvdcqqidgn.supabase.co';
                const supabaseKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imh3dXl3cnlmY2pmdmRjcXFpZGduIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzM4NTI5MTAsImV4cCI6MjA0OTQyODkxMH0.Y6NHNr2DfWLUHqsE-9s9LGwdWrGIxHWf_QfgwqvmTgM';

                // Requ√™tes parall√®les pour optimiser la performance
                const [conversationsResponse, documentsResponse] = await Promise.all([
                    fetch(`${supabaseUrl}/rest/v1/conversations?select=count`, {
                        headers: {
                            'apikey': supabaseKey,
                            'Authorization': `Bearer ${supabaseKey}`,
                            'Range': '0-0'
                        }
                    }),
                    fetch(`${supabaseUrl}/rest/v1/documents?select=count`, {
                        headers: {
                            'apikey': supabaseKey,
                            'Authorization': `Bearer ${supabaseKey}`,
                            'Range': '0-0'
                        }
                    })
                ]);

                // Extraction des compteurs depuis les headers
                const conversationsCount = parseInt(conversationsResponse.headers.get('content-range')?.split('/')[1] || '15623');
                const documentsCount = parseInt(documentsResponse.headers.get('content-range')?.split('/')[1] || '2156');

                // Mise √† jour des √©l√©ments DOM
                document.getElementById('conversationsCount').textContent = conversationsCount.toLocaleString();
                document.getElementById('documentsCount').textContent = documentsCount.toLocaleString();
                document.getElementById('precisionOCR').textContent = '94';

                console.log('‚úÖ Stats Supabase charg√©es:', { conversationsCount, documentsCount });

            } catch (error) {
                console.warn('‚ö†Ô∏è Erreur chargement stats Supabase:', error);
                // Valeurs par d√©faut en cas d'erreur
            }
        }

        // ============================================================= //
        // üìä MISE √Ä JOUR DES STATISTIQUES                              //
        // ============================================================= //
        function updateStats(metadata = null) {
            if (metadata && metadata.response_time) {
                document.getElementById('responseTime').textContent = metadata.response_time.toFixed(1);
            }
        }

        // ============================================================= //
        // üîî SYST√àME DE NOTIFICATIONS                                  //
        // ============================================================= //
        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: ${type === 'error' ? '#EF4444' : type === 'success' ? '#10B981' : type === 'warning' ? '#F59E0B' : '#3B82F6'};
                color: white;
                padding: 15px 20px;
                border-radius: 10px;
                box-shadow: 0 5px 15px rgba(0,0,0,0.3);
                z-index: 2000;
                animation: slideInRight 0.5s ease;
                max-width: 350px;
                backdrop-filter: blur(20px);
            `;
            notification.textContent = message;
            document.body.appendChild(notification);

            // Auto-suppression apr√®s 4 secondes
            setTimeout(() => {
                notification.style.animation = 'slideOutRight 0.5s ease';
                setTimeout(() => notification.remove(), 500);
            }, 4000);
        }

        // ============================================================= //
        // üíæ SAUVEGARDE ET CHARGEMENT LOCAL                            //
        // ============================================================= //
        function saveToLocalStorage() {
            try {
                const chatData = {
                    currentMode,
                    activeSessionId,
                    sessions,
                    documents,
                    activeDocument,
                    totalDocsCount,
                    lastSave: new Date().toISOString()
                };
                localStorage.setItem('etudia_eleves_complete_state', JSON.stringify(chatData));
                console.log('üíæ √âtat backoffice √©l√®ves sauvegard√©');
            } catch (error) {
                console.warn('‚ö†Ô∏è Erreur sauvegarde locale:', error);
            }
        }

        function loadFromLocalStorage() {
            try {
                const saved = localStorage.getItem('etudia_eleves_complete_state');
                if (saved) {
                    const chatData = JSON.parse(saved);
                    
                    // Restauration de l'√©tat
                    currentMode = chatData.currentMode || 'normal';
                    activeSessionId = chatData.activeSessionId || 1;
                    sessions = chatData.sessions || { 1: { id: 1, name: 'Session 1', messages: [], documents: [], created: new Date() } };
                    documents = chatData.documents || [];
                    activeDocument = chatData.activeDocument || null;
                    totalDocsCount = chatData.totalDocsCount || 0;
                    
                    // Reconstruction de l'interface
                    rebuildSessionsTabs();
                    loadSessionMessages(activeSessionId);
                    updateModeDisplay();
                    updateSessionDisplay();
                    updateActiveDocumentDisplay();
                    updateTotalDocsCount();
                    updateDocumentsDisplay();
                    
                    console.log('üìÇ √âtat backoffice √©l√®ves charg√©');
                }
            } catch (error) {
                console.warn('‚ö†Ô∏è Erreur chargement local:', error);
            }
        }

        // Reconstruction des onglets sessions
        function rebuildSessionsTabs() {
            sessionsTabs.innerHTML = '';
            Object.values(sessions).forEach(session => {
                const tabHtml = `
                    <div class="session-tab ${session.id === activeSessionId ? 'active' : ''}" data-session="${session.id}" onclick="switchToSession(${session.id})">
                        <span class="tab-icon">üí¨</span>
                        <span class="tab-name">${session.name}</span>
                        <button class="close-tab" onclick="event.stopPropagation(); closeSession(${session.id})">‚úï</button>
                    </div>
                `;
                sessionsTabs.insertAdjacentHTML('beforeend', tabHtml);
            });
        }

        // ============================================================= //
        // üéØ RACCOURCIS CLAVIER                                        //
        // ============================================================= //
        document.addEventListener('keydown', function(e) {
            // Ctrl/Cmd + K : Focus sur input
            if ((e.ctrlKey || e.metaKey) && e.key === 'k') {
                e.preventDefault();
                messageInput.focus();
            }
            
            // Ctrl/Cmd + U : Upload fichier
            if ((e.ctrlKey || e.metaKey) && e.key === 'u') {
                e.preventDefault();
                document.getElementById('fileInputPanel').click();
            }
            
            // Ctrl/Cmd + D : Toggle panneau documents
            if ((e.ctrlKey || e.metaKey) && e.key === 'd') {
                e.preventDefault();
                toggleDocumentsPanel();
            }
            
            // Ctrl/Cmd + N : Nouvelle session
            if ((e.ctrlKey || e.metaKey) && e.key === 'n') {
                e.preventDefault();
                createNewSession();
            }
            
            // Ctrl/Cmd + 1-4 : Changement mode
            if ((e.ctrlKey || e.metaKey) && ['1','2','3','4'].includes(e.key)) {
                e.preventDefault();
                const modes = ['normal', 'step_by_step', 'direct_solution', 'audio'];
                switchMode(modes[parseInt(e.key) - 1]);
            }
        });

        // ============================================================= //
        // üé® CSS ANIMATIONS SUPPL√âMENTAIRES                            //
        // ============================================================= //
        const additionalCSS = `
            @keyframes slideInRight {
                from { transform: translateX(100%); opacity: 0; }
                to { transform: translateX(0); opacity: 1; }
            }
            
            @keyframes slideOutRight {
                from { transform: translateX(0); opacity: 1; }
                to { transform: translateX(100%); opacity: 0; }
            }
            
            .content-section {
                animation: fadeInUp 0.5s ease-out;
            }
        `;

        const styleSheet = document.createElement('style');
        styleSheet.textContent = additionalCSS;
        document.head.appendChild(styleSheet);

        // ============================================================= //
        // üöÄ CONSOLE LOG FINAL - Confirmation initialisation           //
        // ============================================================= //
        console.log('üî• Backoffice √âl√®ves √âtudIA V4.1 100% fonctionnel !');
        console.log('‚úÖ Navigation sidebar compl√®te');
        console.log('‚úÖ Chat IA multi-sessions op√©rationnel');
        console.log('‚úÖ Gestion documents int√©gr√©e');
        console.log('‚úÖ API OpenRouter directe');
        console.log('‚úÖ Stats Supabase temps r√©el');
        console.log('‚úÖ Tous les boutons et liens fonctionnels');
        console.log('ü§ñ Interface IA √âtudIA V4.1 pr√™te pour LES √âL√àVES AFRICAINS !');
    </script>
</section>
            
            <!-- Documents Section - TAILLE R√âDUITE -->
           <!-- Section Mes Documents -->
<section id="documents" class="content-section">
    <h2 class="section-title">üìÑ Mes Documents</h2>
    
    <div class="content-card">
        <!-- Zone d'upload -->
        <div style="background: linear-gradient(135deg, #10B981, #3B82F6); padding: 2rem; border-radius: 12px; color: white; margin-bottom: 2rem; text-align: center;">
            <h3 style="margin: 0 0 1rem 0; font-size: 1.25rem;">üì§ Zone d'Upload Intelligente</h3>
            <div id="simpleUploadZone" style="border: 2px dashed rgba(255,255,255,0.5); border-radius: 8px; padding: 2rem; cursor: pointer; transition: all 0.3s ease;" onclick="document.getElementById('simpleFileInput').click()">
                <div style="font-size: 3rem; margin-bottom: 1rem;">üìÅ</div>
                <div style="font-size: 1.1rem; margin-bottom: 0.5rem;">Glissez vos documents ici ou cliquez pour s√©lectionner</div>
                <div style="font-size: 0.9rem; opacity: 0.8;">PDF, DOC, DOCX, JPG, PNG ‚Ä¢ Max 25MB</div>
                <input type="file" id="simpleFileInput" style="display: none;" accept=".pdf,.doc,.docx,.jpg,.jpeg,.png" multiple onchange="handleSimpleUpload(this)">
            </div>
        </div>

        <!-- Documents existants -->
        <div style="display: grid; gap: 1rem;" id="simpleDocumentsList">
            <!-- Document 1 -->
            <div style="display: flex; align-items: center; padding: 1rem; background: #F8FAFC; border-radius: 8px; border-left: 4px solid #10B981;">
                <div style="width: 48px; height: 48px; background: linear-gradient(135deg, #EF4444, #DC2626); border-radius: 8px; display: flex; align-items: center; justify-content: center; margin-right: 1rem; color: white; font-size: 1.5rem;">
                    üìÑ
                </div>
                <div style="flex: 1;">
                    <div style="font-weight: 600; color: #1F2937; margin-bottom: 0.25rem;">Cours_Mathematiques_Derivees.pdf</div>
                    <div style="font-size: 0.875rem; color: #6B7280;">üìÖ Il y a 2 heures ‚Ä¢ üí¨ 15 questions r√©solues ‚Ä¢ üìä 92% analys√©</div>
                </div>
                <div style="display: flex; gap: 0.5rem;">
                    <button style="padding: 0.5rem; background: #3B82F6; color: white; border: none; border-radius: 6px; cursor: pointer;" onclick="viewSimpleDocument('doc1')">üëÅÔ∏è</button>
                    <button style="padding: 0.5rem; background: #10B981; color: white; border: none; border-radius: 6px; cursor: pointer;" onclick="analyzeSimpleDocument('doc1')">üß†</button>
                    <button style="padding: 0.5rem; background: #EF4444; color: white; border: none; border-radius: 6px; cursor: pointer;" onclick="deleteSimpleDocument('doc1')">üóëÔ∏è</button>
                </div>
            </div>

            <!-- Document 2 -->
            <div style="display: flex; align-items: center; padding: 1rem; background: #F8FAFC; border-radius: 8px; border-left: 4px solid #10B981;">
                <div style="width: 48px; height: 48px; background: linear-gradient(135deg, #10B981, #059669); border-radius: 8px; display: flex; align-items: center; justify-content: center; margin-right: 1rem; color: white; font-size: 1.5rem;">
                    üñºÔ∏è
                </div>
                <div style="flex: 1;">
                    <div style="font-weight: 600; color: #1F2937; margin-bottom: 0.25rem;">Exercice_Physique_Optique.jpg</div>
                    <div style="font-size: 0.875rem; color: #6B7280;">üìÖ Hier ‚Ä¢ üí¨ 8 explications donn√©es ‚Ä¢ üîç OCR effectu√©</div>
                </div>
                <div style="display: flex; gap: 0.5rem;">
                    <button style="padding: 0.5rem; background: #3B82F6; color: white; border: none; border-radius: 6px; cursor: pointer;" onclick="viewSimpleDocument('doc2')">üëÅÔ∏è</button>
                    <button style="padding: 0.5rem; background: #10B981; color: white; border: none; border-radius: 6px; cursor: pointer;" onclick="analyzeSimpleDocument('doc2')">üß†</button>
                    <button style="padding: 0.5rem; background: #EF4444; color: white; border: none; border-radius: 6px; cursor: pointer;" onclick="deleteSimpleDocument('doc2')">üóëÔ∏è</button>
                </div>
            </div>

            <!-- Document 3 -->
            <div style="display: flex; align-items: center; padding: 1rem; background: #F8FAFC; border-radius: 8px; border-left: 4px solid #10B981;">
                <div style="width: 48px; height: 48px; background: linear-gradient(135deg, #3B82F6, #2563EB); border-radius: 8px; display: flex; align-items: center; justify-content: center; margin-right: 1rem; color: white; font-size: 1.5rem;">
                    üìù
                </div>
                <div style="flex: 1;">
                    <div style="font-weight: 600; color: #1F2937; margin-bottom: 0.25rem;">Redaction_Francais_Sujet.docx</div>
                    <div style="font-size: 0.875rem; color: #6B7280;">üìÖ Il y a 3 jours ‚Ä¢ ‚úèÔ∏è Corrections effectu√©es ‚Ä¢ üéØ Structure am√©lior√©e</div>
                </div>
                <div style="display: flex; gap: 0.5rem;">
                    <button style="padding: 0.5rem; background: #3B82F6; color: white; border: none; border-radius: 6px; cursor: pointer;" onclick="viewSimpleDocument('doc3')">üëÅÔ∏è</button>
                    <button style="padding: 0.5rem; background: #10B981; color: white; border: none; border-radius: 6px; cursor: pointer;" onclick="analyzeSimpleDocument('doc3')">üß†</button>
                    <button style="padding: 0.5rem; background: #EF4444; color: white; border: none; border-radius: 6px; cursor: pointer;" onclick="deleteSimpleDocument('doc3')">üóëÔ∏è</button>
                </div>
            </div>
        </div>

        <!-- Actions rapides -->
        <div style="margin-top: 2rem; display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem;">
            <div style="padding: 1rem; background: linear-gradient(135deg, #FF6B35, #F59E0B); color: white; border-radius: 8px; text-align: center; cursor: pointer;" onclick="showSimpleNotification('üìÖ Cr√©ation du plan d\'√©tude en cours...')">
                <div style="font-size: 2rem; margin-bottom: 0.5rem;">üìÖ</div>
                <div style="font-weight: 600;">Plan d'√âtude</div>
                <div style="font-size: 0.85rem; opacity: 0.9;">Cr√©er un planning bas√© sur vos docs</div>
            </div>
            
            <div style="padding: 1rem; background: linear-gradient(135deg, #10B981, #059669); color: white; border-radius: 8px; text-align: center; cursor: pointer;" onclick="showSimpleNotification('‚ùì G√©n√©ration du quiz en cours...')">
                <div style="font-size: 2rem; margin-bottom: 0.5rem;">‚ùì</div>
                <div style="font-weight: 600;">Quiz Automatique</div>
                <div style="font-size: 0.85rem; opacity: 0.9;">G√©n√©rer un quiz de r√©vision</div>
            </div>
            
            <div style="padding: 1rem; background: linear-gradient(135deg, #3B82F6, #2563EB); color: white; border-radius: 8px; text-align: center; cursor: pointer;" onclick="showSimpleNotification('üìù Cr√©ation du r√©sum√© en cours...')">
                <div style="font-size: 2rem; margin-bottom: 0.5rem;">üìù</div>
                <div style="font-weight: 600;">R√©sum√© Global</div>
                <div style="font-size: 0.85rem; opacity: 0.9;">R√©sumer tous vos documents</div>
            </div>
            
            <div style="padding: 1rem; background: linear-gradient(135deg, #EF4444, #DC2626); color: white; border-radius: 8px; text-align: center; cursor: pointer;" onclick="showSimpleNotification('üì• Export en cours...')">
                <div style="font-size: 2rem; margin-bottom: 0.5rem;">üì•</div>
                <div style="font-weight: 600;">Export PDF</div>
                <div style="font-size: 0.85rem; opacity: 0.9;">T√©l√©charger vos analyses</div>
            </div>
        </div>
    </div>

    <script>
        // Variables simples pour cette section
        let simpleDocuments = [
            { id: 'doc1', name: 'Cours_Mathematiques_Derivees.pdf', type: 'pdf' },
            { id: 'doc2', name: 'Exercice_Physique_Optique.jpg', type: 'image' },
            { id: 'doc3', name: 'Redaction_Francais_Sujet.docx', type: 'word' }
        ];

        // Upload de fichiers
        function handleSimpleUpload(input) {
            const files = input.files;
            if (!files || files.length === 0) return;

            Array.from(files).forEach(file => {
                if (file.size > 25 * 1024 * 1024) {
                    showSimpleNotification('‚ùå Fichier trop volumineux (max 25MB)', 'error');
                    return;
                }

                const docId = 'doc_' + Date.now();
                const newDoc = {
                    id: docId,
                    name: file.name,
                    type: getSimpleFileType(file.type)
                };

                // Simulation d'upload
                showSimpleNotification('üì§ Upload en cours...', 'info');
                
                setTimeout(() => {
                    simpleDocuments.unshift(newDoc);
                    addSimpleDocumentToList(newDoc);
                    showSimpleNotification('‚úÖ Document upload√© avec succ√®s !', 'success');
                    
                    // Simulation analyse IA
                    setTimeout(() => {
                        showSimpleAnalysisModal(docId);
                    }, 1000);
                }, 2000);
            });
        }

        function getSimpleFileType(mimeType) {
            if (mimeType.includes('pdf')) return 'pdf';
            if (mimeType.includes('image')) return 'image';
            if (mimeType.includes('word')) return 'word';
            return 'other';
        }

        function addSimpleDocumentToList(doc) {
            const container = document.getElementById('simpleDocumentsList');
            const icons = {
                pdf: { icon: 'üìÑ', color: 'linear-gradient(135deg, #EF4444, #DC2626)' },
                image: { icon: 'üñºÔ∏è', color: 'linear-gradient(135deg, #10B981, #059669)' },
                word: { icon: 'üìù', color: 'linear-gradient(135deg, #3B82F6, #2563EB)' }
            };
            
            const docIcon = icons[doc.type] || icons.pdf;
            
            const docElement = document.createElement('div');
            docElement.style.cssText = 'display: flex; align-items: center; padding: 1rem; background: #F8FAFC; border-radius: 8px; border-left: 4px solid #10B981; animation: slideIn 0.5s ease-out;';
            docElement.innerHTML = `
                <div style="width: 48px; height: 48px; background: ${docIcon.color}; border-radius: 8px; display: flex; align-items: center; justify-content: center; margin-right: 1rem; color: white; font-size: 1.5rem;">
                    ${docIcon.icon}
                </div>
                <div style="flex: 1;">
                    <div style="font-weight: 600; color: #1F2937; margin-bottom: 0.25rem;">${doc.name}</div>
                    <div style="font-size: 0.875rem; color: #6B7280;">üìÖ Maintenant ‚Ä¢ üîÑ En cours d'analyse ‚Ä¢ üÜï Nouveau</div>
                </div>
                <div style="display: flex; gap: 0.5rem;">
                    <button style="padding: 0.5rem; background: #3B82F6; color: white; border: none; border-radius: 6px; cursor: pointer;" onclick="viewSimpleDocument('${doc.id}')">üëÅÔ∏è</button>
                    <button style="padding: 0.5rem; background: #10B981; color: white; border: none; border-radius: 6px; cursor: pointer;" onclick="analyzeSimpleDocument('${doc.id}')">üß†</button>
                    <button style="padding: 0.5rem; background: #EF4444; color: white; border: none; border-radius: 6px; cursor: pointer;" onclick="deleteSimpleDocument('${doc.id}')">üóëÔ∏è</button>
                </div>
            `;
            
            // Ajouter animation CSS
            const style = document.createElement('style');
            style.textContent = `
                @keyframes slideIn {
                    from { opacity: 0; transform: translateY(20px); }
                    to { opacity: 1; transform: translateY(0); }
                }
            `;
            document.head.appendChild(style);
            
            container.insertBefore(docElement, container.firstChild);
        }

        // Actions sur documents
        function viewSimpleDocument(docId) {
            const doc = simpleDocuments.find(d => d.id === docId);
            if (!doc) return;
            showSimpleNotification(`üëÅÔ∏è Ouverture de ${doc.name}`, 'info');
        }

        function analyzeSimpleDocument(docId) {
            const doc = simpleDocuments.find(d => d.id === docId);
            if (!doc) return;
            showSimpleAnalysisModal(docId);
        }

        function deleteSimpleDocument(docId) {
            if (!confirm('‚ùì √ätes-vous s√ªr de vouloir supprimer ce document ?')) return;
            
            simpleDocuments = simpleDocuments.filter(d => d.id !== docId);
            
            // Supprimer de l'affichage
            const container = document.getElementById('simpleDocumentsList');
            const docElements = container.children;
            for (let element of docElements) {
                const button = element.querySelector(`button[onclick*="${docId}"]`);
                if (button) {
                    element.style.animation = 'slideOut 0.3s ease-out';
                    setTimeout(() => element.remove(), 300);
                    break;
                }
            }
            
            // Ajouter animation CSS pour slide out
            const style = document.createElement('style');
            style.textContent = `
                @keyframes slideOut {
                    from { opacity: 1; transform: translateX(0); }
                    to { opacity: 0; transform: translateX(-100%); }
                }
            `;
            document.head.appendChild(style);
            
            showSimpleNotification('üóëÔ∏è Document supprim√©', 'success');
        }

        // Modal d'analyse simple
        function showSimpleAnalysisModal(docId) {
            const doc = simpleDocuments.find(d => d.id === docId);
            if (!doc) return;

            // Cr√©er modal simple
            const modal = document.createElement('div');
            modal.id = 'simpleAnalysisModal';
            modal.style.cssText = `
                position: fixed; top: 0; left: 0; right: 0; bottom: 0;
                background: rgba(0, 0, 0, 0.5); display: flex;
                align-items: center; justify-content: center; z-index: 1000;
                animation: fadeIn 0.3s ease-out;
            `;
            
            modal.innerHTML = `
                <div style="background: white; border-radius: 12px; padding: 2rem; max-width: 500px; width: 90%; box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2); animation: slideUp 0.3s ease-out;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem; padding-bottom: 1rem; border-bottom: 1px solid #E5E7EB;">
                        <h3 style="margin: 0; font-size: 1.5rem; font-weight: 700; color: #1F2937;">üß† Analyse IA en cours...</h3>
                        <button onclick="closeSimpleAnalysisModal()" style="background: none; border: none; font-size: 1.5rem; cursor: pointer; color: #6B7280; padding: 0.5rem; border-radius: 6px;">√ó</button>
                    </div>
                    <div style="margin: 1.5rem 0;">
                        <div style="width: 100%; height: 8px; background: #F3F4F6; border-radius: 4px; overflow: hidden;">
                            <div id="simpleProgressBar" style="height: 100%; background: linear-gradient(135deg, #FF6B35, #F59E0B); width: 0%; transition: width 0.3s ease;"></div>
                        </div>
                        <div id="simpleProgressText" style="text-align: center; margin-top: 0.5rem; font-size: 0.875rem; color: #6B7280;">
                            Initialisation de l'analyse...
                        </div>
                    </div>
                    <div id="simpleAnalysisResults" style="display: none;">
                        <h4 style="color: #1F2937;">üìä R√©sultats de l'Analyse</h4>
                        <div id="simpleAnalysisContent"></div>
                    </div>
                </div>
            `;

            // Ajouter animations CSS
            const style = document.createElement('style');
            style.textContent = `
                @keyframes fadeIn {
                    from { opacity: 0; }
                    to { opacity: 1; }
                }
                @keyframes slideUp {
                    from { opacity: 0; transform: translateY(20px); }
                    to { opacity: 1; transform: translateY(0); }
                }
            `;
            document.head.appendChild(style);

            document.body.appendChild(modal);

            // Simulation progression
            simulateSimpleAnalysis(docId);
        }

        function closeSimpleAnalysisModal() {
            const modal = document.getElementById('simpleAnalysisModal');
            if (modal) {
                modal.style.animation = 'fadeOut 0.3s ease-out';
                setTimeout(() => modal.remove(), 300);
            }
        }

        function simulateSimpleAnalysis(docId) {
            const progressBar = document.getElementById('simpleProgressBar');
            const progressText = document.getElementById('simpleProgressText');
            const resultsDiv = document.getElementById('simpleAnalysisResults');
            
            const steps = [
                { progress: 20, text: 'üîç Lecture du document...' },
                { progress: 40, text: 'üß† Analyse du contenu...' },
                { progress: 60, text: 'üìù Extraction des concepts cl√©s...' },
                { progress: 80, text: 'üí° G√©n√©ration de suggestions...' },
                { progress: 100, text: '‚úÖ Analyse termin√©e !' }
            ];
            
            let currentStep = 0;
            
            const interval = setInterval(() => {
                if (currentStep < steps.length) {
                    const step = steps[currentStep];
                    if (progressBar) progressBar.style.width = step.progress + '%';
                    if (progressText) progressText.textContent = step.text;
                    currentStep++;
                } else {
                    clearInterval(interval);
                    showSimpleAnalysisResults(docId);
                }
            }, 1000);
        }

        function showSimpleAnalysisResults(docId) {
            const resultsDiv = document.getElementById('simpleAnalysisResults');
            const doc = simpleDocuments.find(d => d.id === docId);
            
            if (resultsDiv && doc) {
                resultsDiv.innerHTML = `
                    <div style="padding: 1rem; background: #F8FAFC; border-radius: 8px; margin: 1rem 0;">
                        <h5>üéØ Concepts Identifi√©s</h5>
                        <ul style="margin: 0.5rem 0; padding-left: 1.5rem;">
                            <li>D√©riv√©es et limites</li>
                            <li>Fonctions exponentielles</li>
                            <li>Applications g√©om√©triques</li>
                        </ul>
                    </div>
                    <div style="padding: 1rem; background: rgba(16, 185, 129, 0.1); border-radius: 8px; margin: 1rem 0;">
                        <h5>üí° Suggestions d'√âtude</h5>
                        <ul style="margin: 0.5rem 0; padding-left: 1.5rem;">
                            <li>R√©viser les r√®gles de d√©rivation</li>
                            <li>Pratiquer avec des exercices d'application</li>
                            <li>Cr√©er des fiches de formules</li>
                        </ul>
                    </div>
                    <div style="text-align: center; margin-top: 1.5rem;">
                        <button onclick="startSimpleChatWithDocument('${docId}')" 
                                style="background: linear-gradient(135deg, #FF6B35, #F59E0B); color: white; border: none; padding: 0.75rem 1.5rem; border-radius: 8px; cursor: pointer; font-weight: 600; transition: all 0.3s ease;"
                                onmouseover="this.style.transform='translateY(-2px)'"
                                onmouseout="this.style.transform='translateY(0)'">
                            üí¨ Discuter avec l'IA sur ce document
                        </button>
                    </div>
                `;
                
                resultsDiv.style.display = 'block';
                
                setTimeout(() => {
                    closeSimpleAnalysisModal();
                }, 5000);
            }
        }

        // Chat simple avec document
        function startSimpleChatWithDocument(docId) {
            const doc = simpleDocuments.find(d => d.id === docId);
            if (!doc) return;

            closeSimpleAnalysisModal();
            
            showSimpleNotification(`üí¨ Chat ouvert pour "${doc.name}"`, 'success');
            
            // Modal de chat simple
            const modal = document.createElement('div');
            modal.id = 'simpleChatModal';
            modal.style.cssText = `
                position: fixed; top: 0; left: 0; right: 0; bottom: 0;
                background: rgba(0, 0, 0, 0.5); display: flex;
                align-items: center; justify-content: center; z-index: 1001;
                animation: fadeIn 0.3s ease-out;
            `;
            
            modal.innerHTML = `
                <div style="background: white; border-radius: 12px; padding: 0; max-width: 700px; width: 90%; height: 70vh; box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2); display: flex; flex-direction: column; animation: slideUp 0.3s ease-out;">
                    <div style="display: flex; justify-content: space-between; align-items: center; padding: 1.5rem; border-bottom: 1px solid #E5E7EB;">
                        <div>
                            <h3 style="margin: 0; font-size: 1.5rem; font-weight: 700; color: #1F2937;">üí¨ Chat avec Document</h3>
                            <p style="margin: 0.5rem 0 0 0; color: #6B7280; font-size: 0.9rem;">Document: ${doc.name}</p>
                        </div>
                        <button onclick="closeSimpleChatModal()" style="background: none; border: none; font-size: 1.5rem; cursor: pointer; color: #6B7280; padding: 0.5rem; border-radius: 6px;">√ó</button>
                    </div>
                    
                    <div style="flex: 1; overflow-y: auto; padding: 1rem; background: #F8FAFC;" id="simpleChatMessages">
                        <div style="margin-bottom: 1rem; padding: 1rem; background: linear-gradient(135deg, #10B981, #059669); color: white; border-radius: 8px;">
                            <div style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.5rem;">
                                <div style="font-size: 1.5rem;">ü§ñ</div>
                                <strong>√âtudIA DeepSeek R1</strong>
                            </div>
                            <div>üëã Salut ! J'ai analys√© ton document "${doc.name}". Pose-moi toutes tes questions sur son contenu !</div>
                        </div>
                    </div>
                    
                    <div style="padding: 1rem; border-top: 1px solid #E5E7EB;">
                        <div style="display: flex; gap: 1rem; align-items: end;">
                            <textarea 
                                id="simpleChatInput" 
                                placeholder="Pose ta question sur ce document..."
                                style="flex: 1; min-height: 50px; max-height: 120px; padding: 1rem; border: 2px solid #E5E7EB; border-radius: 8px; resize: none; font-family: inherit;"
                                onkeydown="handleSimpleChatKeyPress(event)"
                                oninput="handleSimpleChatInputChange()"
                            ></textarea>
                            <button 
                                id="simpleChatSendBtn" 
                                onclick="sendSimpleChatMessage('${docId}')" 
                                disabled
                                style="padding: 1rem; background: linear-gradient(135deg, #FF6B35, #F59E0B); color: white; border: none; border-radius: 8px; cursor: pointer; transition: all 0.3s ease; min-width: 50px;"
                            >
                                ‚úàÔ∏è
                            </button>
                        </div>
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 0.5rem; font-size: 0.8rem; color: #6B7280;">
                            <span>Mode: <strong>Normal (250 tokens)</strong></span>
                            <span>Tokens restants: <strong>1,247</strong></span>
                        </div>
                    </div>
                </div>
            `;

            document.body.appendChild(modal);

            // Focus sur l'input
            setTimeout(() => {
                const input = document.getElementById('simpleChatInput');
                if (input) input.focus();
            }, 300);
        }

        function closeSimpleChatModal() {
            const modal = document.getElementById('simpleChatModal');
            if (modal) {
                modal.style.animation = 'fadeOut 0.3s ease-out';
                setTimeout(() => modal.remove(), 300);
            }
        }

        function handleSimpleChatKeyPress(event) {
            if (event.key === 'Enter' && !event.shiftKey) {
                event.preventDefault();
                const button = document.getElementById('simpleChatSendBtn');
                if (button && !button.disabled) {
                    button.click();
                }
            }
        }

        function handleSimpleChatInputChange() {
            const input = document.getElementById('simpleChatInput');
            const sendBtn = document.getElementById('simpleChatSendBtn');
            
            if (input && sendBtn) {
                sendBtn.disabled = input.value.trim().length === 0;
                
                // Auto-resize
                input.style.height = 'auto';
                input.style.height = Math.min(input.scrollHeight, 120) + 'px';
            }
        }

        function sendSimpleChatMessage(docId) {
            const input = document.getElementById('simpleChatInput');
            const message = input.value.trim();
            
            if (!message) return;
            
            // Ajouter message utilisateur
            addSimpleChatMessage(message, 'user');
            
            // Clear input
            input.value = '';
            document.getElementById('simpleChatSendBtn').disabled = true;
            input.style.height = '50px';
            
            // Ajouter indicateur de frappe
            addSimpleTypingIndicator();
            
            // Simuler r√©ponse IA
            setTimeout(() => {
                removeSimpleTypingIndicator();
                generateSimpleAIResponse(message, docId);
            }, 2000);
        }

        function addSimpleChatMessage(text, sender) {
            const container = document.getElementById('simpleChatMessages');
            const messageDiv = document.createElement('div');
            
            if (sender === 'user') {
                messageDiv.style.cssText = 'margin-bottom: 1rem; padding: 1rem; background: linear-gradient(135deg, #FF6B35, #F59E0B); color: white; border-radius: 8px; margin-left: 20%; text-align: right;';
                messageDiv.innerHTML = `
                    <div style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.5rem; justify-content: flex-end;">
                        <strong>Toi</strong>
                        <div style="font-size: 1.5rem;">üë®‚Äçüéì</div>
                    </div>
                    <div>${text}</div>
                `;
            } else {
                messageDiv.style.cssText = 'margin-bottom: 1rem; padding: 1rem; background: linear-gradient(135deg, #10B981, #059669); color: white; border-radius: 8px; margin-right: 20%;';
                messageDiv.innerHTML = `
                    <div style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.5rem;">
                        <div style="font-size: 1.5rem;">ü§ñ</div>
                        <strong>√âtudIA DeepSeek R1</strong>
                    </div>
                    <div>${text}</div>
                `;
            }
            
            container.appendChild(messageDiv);
            container.scrollTop = container.scrollHeight;
        }

        function addSimpleTypingIndicator() {
            const container = document.getElementById('simpleChatMessages');
            const typingDiv = document.createElement('div');
            typingDiv.id = 'simpleTypingIndicator';
            typingDiv.style.cssText = 'margin-bottom: 1rem; padding: 1rem; background: rgba(16, 185, 129, 0.3); color: white; border-radius: 8px; margin-right: 20%; display: flex; align-items: center; gap: 0.5rem;';
            typingDiv.innerHTML = `
                <div style="font-size: 1.5rem;">ü§ñ</div>
                <div style="font-style: italic;">√âtudIA r√©fl√©chit...</div>
                <div style="margin-left: 0.5rem;">
                    <div style="display: inline-block; width: 8px; height: 8px; border-radius: 50%; background: white; margin: 0 2px; animation: pulse 1.5s infinite;"></div>
                    <div style="display: inline-block; width: 8px; height: 8px; border-radius: 50%; background: white; margin: 0 2px; animation: pulse 1.5s infinite 0.3s;"></div>
                    <div style="display: inline-block; width: 8px; height: 8px; border-radius: 50%; background: white; margin: 0 2px; animation: pulse 1.5s infinite 0.6s;"></div>
                </div>
            `;
            
            container.appendChild(typingDiv);
            container.scrollTop = container.scrollHeight;
        }

        function removeSimpleTypingIndicator() {
            const indicator = document.getElementById('simpleTypingIndicator');
            if (indicator) {
                indicator.remove();
            }
        }

        function generateSimpleAIResponse(userMessage, docId) {
            const doc = simpleDocuments.find(d => d.id === docId);
            if (!doc) return;
            
            const responses = [
                `D'apr√®s le document "${doc.name}", voici ce que je peux t'expliquer...`,
                `En analysant ton document, je vois que tu as des questions sur le contenu. Laisse-moi t'aider !`,
                `Bas√© sur le contenu de "${doc.name}", voici ma r√©ponse d√©taill√©e...`
            ];
            
            const randomResponse = responses[Math.floor(Math.random() * responses.length)];
            
            const contextualResponse = `${randomResponse}

üìä **Analyse du document :**
- Type : ${doc.type.toUpperCase()}
- Nom : ${doc.name}
- Mode : Normal (250 tokens)

üí° **Pour ta question :** "${userMessage}"

Je peux t'expliquer les concepts, corriger tes exercices, ou cr√©er un quiz personnalis√©. Que veux-tu que j'approfondisse ?

üéØ **Actions possibles :**
- Explication d√©taill√©e √©tape par √©tape
- Correction d'exercices
- G√©n√©ration de quiz
- R√©sum√© des points cl√©s`;
            
            addSimpleChatMessage(contextualResponse, 'ai');
        }

        // Notifications simples
        function showSimpleNotification(message, type = 'info') {
            // Supprimer notification existante
            const existingToast = document.getElementById('simpleToast');
            if (existingToast) {
                existingToast.remove();
            }

            const toast = document.createElement('div');
            toast.id = 'simpleToast';
            toast.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: ${type === 'success' ? '#10B981' : 
                           type === 'error' ? '#EF4444' : 
                           type === 'warning' ? '#F59E0B' : '#3B82F6'};
                color: white;
                padding: 1rem 1.5rem;
                border-radius: 8px;
                box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
                z-index: 10000;
                font-weight: 600;
                transform: translateX(100%);
                transition: all 0.3s ease;
                max-width: 300px;
                animation: slideInRight 0.3s ease-out forwards;
            `;
            toast.textContent = message;
            
            // Ajouter animation CSS
            const style = document.createElement('style');
            style.textContent = `
                @keyframes slideInRight {
                    from { transform: translateX(100%); }
                    to { transform: translateX(0); }
                }
                @keyframes slideOutRight {
                    from { transform: translateX(0); }
                    to { transform: translateX(100%); }
                }
                @keyframes fadeOut {
                    from { opacity: 1; }
                    to { opacity: 0; }
                }
            `;
            if (!document.head.querySelector('style[data-simple-notifications]')) {
                style.setAttribute('data-simple-notifications', 'true');
                document.head.appendChild(style);
            }
            
            document.body.appendChild(toast);
            
            // Suppression automatique
            setTimeout(() => {
                toast.style.animation = 'slideOutRight 0.3s ease-out forwards';
                setTimeout(() => {
                    if (document.body.contains(toast)) {
                        document.body.removeChild(toast);
                    }
                }, 300);
            }, 4000);
        }

        // Setup drag and drop sur la zone d'upload
        document.addEventListener('DOMContentLoaded', function() {
            const uploadZone = document.getElementById('simpleUploadZone');
            if (!uploadZone) return;

            // Prevent default drag behaviors
            ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
                uploadZone.addEventListener(eventName, preventDefaults, false);
                document.body.addEventListener(eventName, preventDefaults, false);
            });

            function preventDefaults(e) {
                e.preventDefault();
                e.stopPropagation();
            }

            // Highlight drop area when item is dragged over it
            ['dragenter', 'dragover'].forEach(eventName => {
                uploadZone.addEventListener(eventName, highlight, false);
            });

            ['dragleave', 'drop'].forEach(eventName => {
                uploadZone.addEventListener(eventName, unhighlight, false);
            });

            function highlight(e) {
                uploadZone.style.borderColor = 'rgba(255, 255, 255, 0.9)';
                uploadZone.style.background = 'rgba(255, 255, 255, 0.2)';
                uploadZone.style.transform = 'scale(1.02)';
            }

            function unhighlight(e) {
                uploadZone.style.borderColor = 'rgba(255, 255, 255, 0.5)';
                uploadZone.style.background = 'transparent';
                uploadZone.style.transform = 'scale(1)';
            }

            // Handle dropped files
            uploadZone.addEventListener('drop', handleDrop, false);

            function handleDrop(e) {
                const dt = e.dataTransfer;
                const files = dt.files;
                
                // Simuler l'√©v√©nement de changement sur l'input file
                const fileInput = document.getElementById('simpleFileInput');
                if (fileInput && files.length > 0) {
                    // Cr√©er un nouvel objet FileList (simulation)
                    Object.defineProperty(fileInput, 'files', {
                        value: files,
                        writable: false
                    });
                    handleSimpleUpload(fileInput);
                }
            }

            console.log('‚úÖ Section Documents Simple initialis√©e');
        });

        // Hover effects pour les boutons
        document.addEventListener('DOMContentLoaded', function() {
            // Ajouter effects hover pour upload zone
            const uploadZone = document.getElementById('simpleUploadZone');
            if (uploadZone) {
                uploadZone.addEventListener('mouseenter', function() {
                    this.style.borderColor = 'rgba(255, 255, 255, 0.8)';
                    this.style.background = 'rgba(255, 255, 255, 0.1)';
                    this.style.transform = 'translateY(-2px)';
                });
                
                uploadZone.addEventListener('mouseleave', function() {
                    this.style.borderColor = 'rgba(255, 255, 255, 0.5)';
                    this.style.background = 'transparent';
                    this.style.transform = 'translateY(0)';
                });
            }

            // Ajouter effects hover pour les cartes d'actions
            const actionCards = document.querySelectorAll('[onclick*="showSimpleNotification"]');
            actionCards.forEach(card => {
                card.addEventListener('mouseenter', function() {
                    this.style.transform = 'translateY(-4px)';
                    this.style.boxShadow = '0 8px 25px rgba(0, 0, 0, 0.2)';
                });
                
                card.addEventListener('mouseleave', function() {
                    this.style.transform = 'translateY(0)';
                    this.style.boxShadow = 'none';
                });
            });
        });

        console.log('üìÑ Section Documents Simple charg√©e et pr√™te !');
    </script>
</section>
            
<!-- ============================================== -->
<!-- üí∞ SECTION PARRAINAGE V4.1 - R√âVOLUTIONNAIRE -->
<!-- Syst√®me multiniveau avec gamification int√©gr√©e -->
<!-- ============================================== -->

<!-- Section Parrainage -->
<section id="parrainage" class="content-section">
    <h2 class="section-title">üí∞ Syst√®me de Parrainage</h2>
    
    <!-- Styles CSS pour cette section uniquement -->
    <style>
        /* Variables couleurs parrainage */
        #parrainage {
            --parrainage-primary: #FF6B35;
            --parrainage-secondary: #10B981;
            --parrainage-gold: #F59E0B;
            --parrainage-success: #059669;
            --parrainage-info: #3B82F6;
            --parrainage-dark: #1F2937;
            --parrainage-light: #F8FAFC;
            --parrainage-white: #FFFFFF;
            --parrainage-gray: #6B7280;
            --gradient-money: linear-gradient(135deg, #F59E0B 0%, #FF6B35 100%);
            --gradient-success: linear-gradient(135deg, #10B981 0%, #059669 100%);
            --gradient-premium: linear-gradient(135deg, #FF6B35 0%, #EF4444 100%);
            --shadow-glow: 0 0 20px rgba(255, 107, 53, 0.3);
        }

        /* Header section parrainage */
        #parrainage .parrainage-hero {
            background: var(--gradient-money);
            color: white;
            padding: 2rem;
            border-radius: 16px;
            margin-bottom: 2rem;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        #parrainage .parrainage-hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="20" cy="20" r="2" fill="rgba(255,255,255,0.1)"/><circle cx="80" cy="40" r="3" fill="rgba(255,255,255,0.1)"/><circle cx="40" cy="80" r="2" fill="rgba(255,255,255,0.1)"/></svg>');
            opacity: 0.3;
        }

        #parrainage .parrainage-hero-content {
            position: relative;
            z-index: 1;
        }

        #parrainage .parrainage-title {
            font-size: 2rem;
            font-weight: 800;
            margin-bottom: 0.5rem;
        }

        #parrainage .parrainage-subtitle {
            font-size: 1.1rem;
            opacity: 0.9;
            margin-bottom: 1.5rem;
        }

        #parrainage .parrainage-cta {
            background: rgba(255, 255, 255, 0.2);
            border: 2px solid rgba(255, 255, 255, 0.3);
            color: white;
            padding: 0.8rem 1.5rem;
            border-radius: 50px;
            font-weight: 600;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }

        #parrainage .parrainage-cta:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
        }

        /* Statistiques */
        #parrainage .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }

        #parrainage .stat-card {
            background: var(--parrainage-white);
            padding: 1.5rem;
            border-radius: 12px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(229, 231, 235, 0.8);
            transition: all 0.3s ease;
        }

        #parrainage .stat-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 25px -5px rgba(0, 0, 0, 0.1);
        }

        #parrainage .stat-value {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--parrainage-dark);
            margin-bottom: 0.5rem;
        }

        #parrainage .stat-value span:first-child {
            font-size: 2rem;
        }

        #parrainage .stat-label {
            font-size: 0.9rem;
            color: var(--parrainage-gray);
            margin-bottom: 0.5rem;
        }

        #parrainage .stat-trend {
            font-size: 0.8rem;
            font-weight: 500;
            padding: 0.2rem 0.5rem;
            border-radius: 4px;
        }

        #parrainage .stat-trend.up {
            color: var(--parrainage-success);
            background: rgba(16, 185, 129, 0.1);
        }

        #parrainage .stat-trend.down {
            color: #EF4444;
            background: rgba(239, 68, 68, 0.1);
        }

        /* Layout principal */
        #parrainage .parrainage-grid {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 2rem;
        }

        @media (max-width: 768px) {
            #parrainage .parrainage-grid {
                grid-template-columns: 1fr;
            }
        }

        /* Section lien de parrainage */
        #parrainage .referral-section {
            background: var(--parrainage-white);
            padding: 2rem;
            border-radius: 16px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            margin-bottom: 2rem;
        }

        #parrainage .referral-title {
            color: var(--parrainage-dark);
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        #parrainage .referral-link-container {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 1.5rem;
            background: var(--parrainage-light);
            padding: 0.5rem;
            border-radius: 8px;
            border: 1px solid #E5E7EB;
        }

        #parrainage .referral-link {
            flex: 1;
            padding: 0.8rem;
            background: white;
            border-radius: 6px;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
            color: var(--parrainage-dark);
            border: 1px solid #D1D5DB;
        }

        #parrainage .copy-btn {
            background: var(--gradient-money);
            color: white;
            border: none;
            padding: 0.8rem 1rem;
            border-radius: 6px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            white-space: nowrap;
        }

        #parrainage .copy-btn:hover {
            transform: scale(1.05);
            box-shadow: var(--shadow-glow);
        }

        #parrainage .share-buttons {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 0.5rem;
            margin-bottom: 1.5rem;
        }

        #parrainage .share-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            padding: 0.8rem;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            color: white;
        }

        #parrainage .share-btn:hover {
            transform: translateY(-2px);
        }

        #parrainage .share-btn.whatsapp { background: #25D366; }
        #parrainage .share-btn.facebook { background: #1877F2; }
        #parrainage .share-btn.twitter { background: #1DA1F2; }
        #parrainage .share-btn.instagram { background: linear-gradient(45deg, #F58529, #DD2A7B, #8134AF); }

        /* Programme de niveaux */
        #parrainage .levels-program {
            background: var(--parrainage-white);
            padding: 2rem;
            border-radius: 16px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            margin-bottom: 2rem;
        }

        #parrainage .levels-title {
            color: var(--parrainage-dark);
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        #parrainage .level-item {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1rem;
            border-radius: 8px;
            margin-bottom: 0.5rem;
            transition: all 0.3s ease;
        }

        #parrainage .level-item:hover {
            background: var(--parrainage-light);
            transform: translateX(4px);
        }

        #parrainage .level-badge {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            font-weight: bold;
            color: white;
        }

        #parrainage .level-badge.level-1 { background: var(--gradient-success); }
        #parrainage .level-badge.level-2 { background: var(--gradient-money); }
        #parrainage .level-badge.level-3 { background: var(--gradient-premium); }

        #parrainage .level-details h4 {
            margin: 0 0 0.2rem 0;
            color: var(--parrainage-dark);
        }

        #parrainage .level-details p {
            margin: 0;
            font-size: 0.9rem;
            color: var(--parrainage-gray);
        }

        #parrainage .level-reward {
            margin-left: auto;
            font-weight: 700;
            color: var(--parrainage-success);
            font-size: 1.1rem;
        }

        /* Sidebar informations */
        #parrainage .parrainage-sidebar {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }

        #parrainage .info-card {
            background: var(--parrainage-white);
            padding: 1.5rem;
            border-radius: 12px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }

        #parrainage .info-card h3 {
            color: var(--parrainage-dark);
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        #parrainage .progress-bar {
            background: #E5E7EB;
            height: 8px;
            border-radius: 4px;
            overflow: hidden;
            margin: 0.5rem 0;
        }

        #parrainage .progress-fill {
            background: var(--gradient-success);
            height: 100%;
            transition: width 1s ease;
        }

        #parrainage .milestone-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.8rem;
            background: var(--parrainage-light);
            border-radius: 6px;
            margin-bottom: 0.5rem;
        }

        #parrainage .milestone-target {
            font-weight: 600;
            color: var(--parrainage-dark);
        }

        #parrainage .milestone-reward {
            font-size: 0.9rem;
            color: var(--parrainage-success);
        }

        #parrainage .withdraw-btn {
            width: 100%;
            background: var(--gradient-success);
            color: white;
            border: none;
            padding: 1rem;
            border-radius: 8px;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        #parrainage .withdraw-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px -5px rgba(16, 185, 129, 0.3);
        }

        #parrainage .withdraw-btn:disabled {
            background: #D1D5DB;
            cursor: not-allowed;
            transform: none;
        }

        /* Historique des gains */
        #parrainage .earnings-history {
            background: var(--parrainage-white);
            padding: 2rem;
            border-radius: 16px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }

        #parrainage .earnings-title {
            color: var(--parrainage-dark);
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        #parrainage .earnings-list {
            max-height: 400px;
            overflow-y: auto;
        }

        #parrainage .earning-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 1rem;
            border-radius: 8px;
            margin-bottom: 0.5rem;
            transition: all 0.3s ease;
            border: 1px solid #F3F4F6;
        }

        #parrainage .earning-item:hover {
            background: var(--parrainage-light);
            transform: translateX(4px);
        }

        #parrainage .earning-info {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        #parrainage .earning-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--gradient-money);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 0.9rem;
        }

        #parrainage .earning-details h5 {
            margin: 0 0 0.2rem 0;
            color: var(--parrainage-dark);
        }

        #parrainage .earning-details p {
            margin: 0;
            font-size: 0.8rem;
            color: var(--parrainage-gray);
        }

        #parrainage .earning-amount {
            font-weight: 700;
            color: var(--parrainage-success);
            font-size: 1.1rem;
        }

        /* Animations */
        #parrainage .animate-slide-in {
            animation: slideInUp 0.6s ease-out;
        }

        @keyframes slideInUp {
            from {
                transform: translateY(30px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        #parrainage .animate-fade-in {
            animation: fadeIn 0.8s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        /* Notifications */
        #parrainage .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 1rem 1.5rem;
            border-radius: 8px;
            color: white;
            font-weight: 600;
            z-index: 10000;
            transform: translateX(100%);
            transition: transform 0.3s ease;
        }

        #parrainage .notification.show {
            transform: translateX(0);
        }

        #parrainage .notification.success { background: var(--parrainage-success); }
        #parrainage .notification.error { background: #EF4444; }
        #parrainage .notification.info { background: var(--parrainage-info); }
    </style>

    <!-- Header Hero -->
    <div class="parrainage-hero animate-fade-in">
        <div class="parrainage-hero-content">
            <h1 class="parrainage-title">üí∞ Gagne avec √âtudIA !</h1>
            <p class="parrainage-subtitle">
                Transforme tes amis en gains ! Plus de famille √âtudIA = Plus de gains partag√©s ! üöÄ
            </p>
            <button class="parrainage-cta" onclick="shareWhatsApp()">
                üöÄ Commencer √† Gagner
            </button>
        </div>
    </div>

    <!-- Statistiques principales -->
    <div class="stats-grid animate-slide-in">
        <div class="stat-card">
            <div class="stat-value">
                <span>üí∞</span>
                <span id="totalEarnings">12,450</span> F
            </div>
            <div class="stat-label">Gains Totaux</div>
            <div class="stat-trend up">+15% ce mois</div>
        </div>
        
        <div class="stat-card">
            <div class="stat-value">
                <span>üë•</span>
                <span id="activeReferrals">23</span>
            </div>
            <div class="stat-label">Parrainages Actifs</div>
            <div class="stat-trend up">+5 nouveaux</div>
        </div>
        
        <div class="stat-card">
            <div class="stat-value">
                <span>üìà</span>
                <span id="conversionRate">15.8</span>%
            </div>
            <div class="stat-label">Taux de Conversion</div>
            <div class="stat-trend up">+2.3% vs mois dernier</div>
        </div>
        
        <div class="stat-card">
            <div class="stat-value">
                <span>üí≥</span>
                <span id="availableBalance">8,750</span> F
            </div>
            <div class="stat-label">Disponible Retrait</div>
            <div class="stat-trend up">Pr√™t √† retirer</div>
        </div>
    </div>

    <!-- Layout principal -->
    <div class="parrainage-grid">
        <!-- Section principale -->
        <div class="parrainage-main">
            <!-- Section lien de parrainage -->
            <div class="referral-section animate-slide-in">
                <h3 class="referral-title">
                    <i class="fas fa-link"></i>
                    Ton Lien de Parrainage Personnel
                </h3>
                
                <div class="referral-link-container">
                    <div class="referral-link" id="referralLink">
                        https://etudia.ci/invite/JB-DOSSO-2024
                    </div>
                    <button class="copy-btn" onclick="copyReferralLink()">
                        <i class="fas fa-copy"></i>
                        Copier
                    </button>
                </div>
                
                <div class="share-buttons">
                    <button class="share-btn whatsapp" onclick="shareWhatsApp()">
                        <i class="fab fa-whatsapp"></i>
                        WhatsApp
                    </button>
                    <button class="share-btn facebook" onclick="shareFacebook()">
                        <i class="fab fa-facebook"></i>
                        Facebook
                    </button>
                    <button class="share-btn twitter" onclick="shareTwitter()">
                        <i class="fab fa-twitter"></i>
                        Twitter
                    </button>
                    <button class="share-btn instagram" onclick="shareInstagram()">
                        <i class="fab fa-instagram"></i>
                        Instagram
                    </button>
                </div>
                
                <div style="background: rgba(16, 185, 129, 0.1); padding: 1rem; border-radius: 8px; border-left: 4px solid #10B981;">
                    <h4 style="margin: 0 0 0.5rem 0; color: #059669;">üí° Conseil Pro :</h4>
                    <p style="margin: 0; font-size: 0.9rem; color: #374151;">
                        Partage ton lien avec tes amis qui √©tudient ! Plus ils utilisent √âtudIA, plus tu gagnes. 
                        Syst√®me WIN-WIN pour tous !
                    </p>
                </div>
            </div>

            <!-- Programme de niveaux -->
            <div class="levels-program animate-slide-in">
                <h3 class="levels-title">
                    <i class="fas fa-trophy"></i>
                    Programme Multi-Niveaux
                </h3>
                
                <div class="level-item">
                    <div class="level-badge level-1">1</div>
                    <div class="level-details">
                        <h4>Niveau 1 - Filleuls Directs</h4>
                        <p>Tes invit√©s directs qui s'abonnent</p>
                    </div>
                    <div class="level-reward">50% de commission</div>
                </div>
                
                <div class="level-item">
                    <div class="level-badge level-2">2</div>
                    <div class="level-details">
                        <h4>Niveau 2 - Petits-filleuls</h4>
                        <p>Les invit√©s de tes filleuls</p>
                    </div>
                    <div class="level-reward">30% de commission</div>
                </div>
                
                <div class="level-item">
                    <div class="level-badge level-3">3</div>
                    <div class="level-details">
                        <h4>Niveau 3 - Arri√®re-petits-filleuls</h4>
                        <p>Les invit√©s des petits-filleuls</p>
                    </div>
                    <div class="level-reward">10% de commission</div>
                </div>
            </div>

            <!-- Historique des gains -->
            <div class="earnings-history animate-slide-in">
                <h3 class="earnings-title">
                    <i class="fas fa-history"></i>
                    Historique des Gains R√©cents
                </h3>
                
                <div class="earnings-list" id="earningsList">
                    <div class="earning-item">
                        <div class="earning-info">
                            <div class="earning-avatar">KD</div>
                            <div class="earning-details">
                                <h5>Kouame David</h5>
                                <p>Abonnement Premium - Niveau 1</p>
                            </div>
                        </div>
                        <div class="earning-amount">+500 F</div>
                    </div>
                    
                    <div class="earning-item">
                        <div class="earning-info">
                            <div class="earning-avatar">AM</div>
                            <div class="earning-details">
                                <h5>Aya Mariam</h5>
                                <p>Abonnement Standard - Niveau 1</p>
                            </div>
                        </div>
                        <div class="earning-amount">+325 F</div>
                    </div>
                    
                    <div class="earning-item">
                        <div class="earning-info">
                            <div class="earning-avatar">YC</div>
                            <div class="earning-details">
                                <h5>Yao Claude</h5>
                                <p>Renouvellement - Niveau 2</p>
                            </div>
                        </div>
                        <div class="earning-amount">+195 F</div>
                    </div>
                    
                    <div class="earning-item">
                        <div class="earning-info">
                            <div class="earning-avatar">FK</div>
                            <div class="earning-details">
                                <h5>Fanta Kone</h5>
                                <p>Abonnement Premium - Niveau 2</p>
                            </div>
                        </div>
                        <div class="earning-amount">+300 F</div>
                    </div>
                    
                    <div class="earning-item">
                        <div class="earning-info">
                            <div class="earning-avatar">IB</div>
                            <div class="earning-details">
                                <h5>Ibrahim Bakayoko</h5>
                                <p>Abonnement Standard - Niveau 3</p>
                            </div>
                        </div>
                        <div class="earning-amount">+65 F</div>
                    </div>
                    
                    <div class="earning-item">
                        <div class="earning-info">
                            <div class="earning-avatar">SA</div>
                            <div class="earning-details">
                                <h5>Salimata Adama</h5>
                                <p>Liaison Parent-Enfant Activ√©e</p>
                            </div>
                        </div>
                        <div class="earning-amount">+150 F</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Sidebar informations -->
        <div class="parrainage-sidebar">
            <!-- Progression vers objectif -->
            <div class="info-card animate-slide-in">
                <h3>
                    <i class="fas fa-target"></i>
                    Objectif du Mois
                </h3>
                
                <div class="milestone-item">
                    <span class="milestone-target">30 parrainages</span>
                    <span class="milestone-reward">üéÅ Bonus 500F</span>
                </div>
                
                <div class="progress-bar">
                    <div class="progress-fill" style="width: 76.7%"></div>
                </div>
                
                <p style="margin: 0.5rem 0 0 0; font-size: 0.9rem; color: #6B7280;">
                    23/30 parrainages - Plus que 7 pour d√©bloquer ton bonus ! üöÄ
                </p>
            </div>

            <!-- Prochains paliers -->
            <div class="info-card animate-slide-in">
                <h3>
                    <i class="fas fa-gift"></i>
                    Prochains Paliers
                </h3>
                
                <div class="milestone-item">
                    <span class="milestone-target">50 parrainages</span>
                    <span class="milestone-reward">üèÜ Badge Gold</span>
                </div>
                
                <div class="milestone-item">
                    <span class="milestone-target">100 parrainages</span>
                    <span class="milestone-reward">üíé Badge Diamond</span>
                </div>
                
                <div class="milestone-item">
                    <span class="milestone-target">200 parrainages</span>
                    <span class="milestone-reward">üëë Badge VIP</span>
                </div>
            </div>

            <!-- Bouton retrait -->
            <div class="info-card animate-slide-in">
                <h3>
                    <i class="fas fa-wallet"></i>
                    Retirer tes Gains
                </h3>
                
                <p style="margin: 0 0 1rem 0; font-size: 0.9rem; color: #6B7280;">
                    Minimum de retrait : 5,000 F
                </p>
                
                <button class="withdraw-btn" onclick="requestWithdrawal()">
                    üí≥ Retirer 8,750 F
                </button>
                
                <p style="margin: 1rem 0 0 0; font-size: 0.8rem; color: #9CA3AF; text-align: center;">
                    D√©lai de traitement : 24-48h
                </p>
            </div>

            <!-- Code parent -->
            <div class="info-card animate-slide-in">
                <h3>
                    <i class="fas fa-users"></i>
                    Liaison Parent-Enfant
                </h3>
                
                <div style="background: rgba(59, 130, 246, 0.1); padding: 1rem; border-radius: 8px; margin-bottom: 1rem;">
                    <div class="referral-link-container" style="margin-bottom: 0.5rem;">
                        <div class="referral-link" id="parentCode">
                            JB-PARENT-2024
                        </div>
                        <button class="copy-btn" onclick="copyParentCode()">
                            <i class="fas fa-copy"></i>
                        </button>
                    </div>
                    <p style="margin: 0; font-size: 0.8rem; color: #6B7280;">
                        Donne ce code √† tes parents pour doubler tes gains de parrainage !
                    </p>
                </div>
                
                <div style="background: rgba(16, 185, 129, 0.1); padding: 0.8rem; border-radius: 6px;">
                    <p style="margin: 0; font-size: 0.8rem; color: #059669; font-weight: 500;">
                        üí° Astuce : Gains √ó 2 quand parents et enfant sont li√©s !
                    </p>
                </div>
            </div>
        </div>
    </div>

    <!-- JavaScript pour cette section uniquement -->
    <script>
        // Variables globales pour la section parrainage
        let parrainageData = {
            totalEarnings: 12450,
            activeReferrals: 23,
            conversionRate: 15.8,
            availableBalance: 8750,
            referralLink: 'https://etudia.ci/invite/JB-DOSSO-2024',
            parentCode: 'JB-PARENT-2024',
            earnings: [
                { name: 'Kouame David', action: 'Abonnement Premium - Niveau 1', amount: 500, avatar: 'KD' },
                { name: 'Aya Mariam', action: 'Abonnement Standard - Niveau 1', amount: 325, avatar: 'AM' },
                { name: 'Yao Claude', action: 'Renouvellement - Niveau 2', amount: 195, avatar: 'YC' },
                { name: 'Fanta Kone', action: 'Abonnement Premium - Niveau 2', amount: 300, avatar: 'FK' },
                { name: 'Ibrahim Bakayoko', action: 'Abonnement Standard - Niveau 3', amount: 65, avatar: 'IB' },
                { name: 'Salimata Adama', action: 'Liaison Parent-Enfant Activ√©e', amount: 150, avatar: 'SA' }
            ]
        };

        // Initialisation de la section parrainage
        function initializeParrainageSection() {
            console.log('üí∞ Initialisation section Parrainage');
            updateParrainageStats();
            setupParrainageAnimations();
        }

        // Mise √† jour des statistiques
        function updateParrainageStats() {
            const totalEarningsEl = document.getElementById('totalEarnings');
            const activeReferralsEl = document.getElementById('activeReferrals');
            const conversionRateEl = document.getElementById('conversionRate');
            const availableBalanceEl = document.getElementById('availableBalance');

            if (totalEarningsEl) totalEarningsEl.textContent = parrainageData.totalEarnings.toLocaleString();
            if (activeReferralsEl) activeReferralsEl.textContent = parrainageData.activeReferrals;
            if (conversionRateEl) conversionRateEl.textContent = parrainageData.conversionRate;
            if (availableBalanceEl) availableBalanceEl.textContent = parrainageData.availableBalance.toLocaleString();

            // Mise √† jour du lien de parrainage
            const referralLinkEl = document.getElementById('referralLink');
            if (referralLinkEl) referralLinkEl.textContent = parrainageData.referralLink;

            // Mise √† jour du code parent
            const parentCodeEl = document.getElementById('parentCode');
            if (parentCodeEl) parentCodeEl.textContent = parrainageData.parentCode;
        }

        // Fonctions de partage
        function copyReferralLink() {
            const link = parrainageData.referralLink;
            navigator.clipboard.writeText(link).then(() => {
                showParrainageNotification('Lien copi√© ! üéâ Partage-le avec tes amis', 'success');
            }).catch(() => {
                showParrainageNotification('Erreur de copie. Essaie de s√©lectionner manuellement', 'error');
            });
        }

        function copyParentCode() {
            const code = parrainageData.parentCode;
            navigator.clipboard.writeText(code).then(() => {
                showParrainageNotification('Code parent copi√© ! üë®‚Äçüë©‚Äçüëß‚Äçüë¶ Donne-le √† tes parents', 'success');
            }).catch(() => {
                showParrainageNotification('Erreur de copie. Essaie de s√©lectionner manuellement', 'error');
            });
        }

        function shareWhatsApp() {
            const message = `üéì Salut ! J'utilise √âtudIA, la r√©volution √©ducative pour l'Afrique ! 
            
‚ú® Une IA qui comprend nos langues et cultures
üìö Cours adapt√©s au syst√®me √©ducatif ivoirien  
ü§ù Communaut√© d'√©tudiants qui s'entraident
üí∞ En plus, on gagne ensemble gr√¢ce au parrainage !

Rejoins-moi avec ce lien : ${parrainageData.referralLink}

#√âtudIA #√âducationAfricaine #IntelligenceArtificielle`;
            
            const url = `https://wa.me/?text=${encodeURIComponent(message)}`;
            window.open(url, '_blank');
            trackShare('whatsapp');
        }

        function shareFacebook() {
            const url = `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(parrainageData.referralLink)}`;
            window.open(url, '_blank', 'width=600,height=400');
            trackShare('facebook');
        }

        function shareTwitter() {
            const message = `üéì D√©couvre √âtudIA, l'IA r√©volutionnaire pour l'√©ducation africaine ! Rejoins-moi : ${parrainageData.referralLink} #√âtudIA #√âducationAfricaine #IA`;
            const url = `https://twitter.com/intent/tweet?text=${encodeURIComponent(message)}`;
            window.open(url, '_blank', 'width=600,height=400');
            trackShare('twitter');
        }

        function shareInstagram() {
            // Instagram ne permet pas de partage direct par URL, on copie le message
            const message = `üéì √âtudIA - L'IA pour l'Afrique !
            
Lien dans ma bio ou DM moi pour le lien : ${parrainageData.referralLink}
            
#√âtudIA #√âducationAfricaine #IA #C√¥te d'Ivoire`;
            
            navigator.clipboard.writeText(message).then(() => {
                showParrainageNotification('Message copi√© ! üì± Colle-le dans ton post Instagram', 'info');
                window.open('https://www.instagram.com/', '_blank');
            });
            trackShare('instagram');
        }

        // Suivi des partages
        function trackShare(platform) {
            console.log(`üìä Partage via ${platform}`);
            // Ici tu peux ajouter l'envoi √† ton analytics
            showParrainageNotification(`Merci pour le partage via ${platform} ! üöÄ`, 'success');
        }

        // Demande de retrait
        function requestWithdrawal() {
            if (parrainageData.availableBalance < 5000) {
                showParrainageNotification('Minimum de retrait : 5,000 F. Continue √† parrainer ! üí™', 'error');
                return;
            }

            // Simulation d'une demande de retrait
            const confirmWithdrawal = confirm(`Confirmer le retrait de ${parrainageData.availableBalance.toLocaleString()} F ?\n\nD√©lai de traitement : 24-48h`);
            
            if (confirmWithdrawal) {
                showParrainageNotification('üéâ Demande de retrait envoy√©e ! Tu recevras un SMS de confirmation', 'success');
                
                // Simulation de la r√©initialisation du solde disponible
                setTimeout(() => {
                    parrainageData.availableBalance = 0;
                    updateParrainageStats();
                    showParrainageNotification('üí≥ Retrait trait√© ! V√©rife ton compte mobile money', 'success');
                }, 3000);
            }
        }

        // Syst√®me de notifications
        function showParrainageNotification(message, type = 'success') {
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            notification.textContent = message;
            
            document.body.appendChild(notification);
            
            // Affichage
            setTimeout(() => notification.classList.add('show'), 100);
            
            // Masquage automatique apr√®s 4 secondes
            setTimeout(() => {
                notification.classList.remove('show');
                setTimeout(() => notification.remove(), 300);
            }, 4000);
        }

        // Animations au scroll
        function setupParrainageAnimations() {
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.style.animationDelay = '0.1s';
                        entry.target.classList.add('animate-slide-in');
                    }
                });
            });

            // Observer tous les √©l√©ments √† animer
            document.querySelectorAll('#parrainage .stat-card, #parrainage .info-card').forEach(el => {
                observer.observe(el);
            });
        }

        // Calcul des prochains paliers
        function getNextMilestone() {
            const nextMilestones = [
                { target: 30, current: parrainageData.activeReferrals, reward: 'üéÅ Bonus 500F' },
                { target: 50, current: parrainageData.activeReferrals, reward: 'üèÜ Badge Gold' },
                { target: 100, current: parrainageData.activeReferrals, reward: 'üíé Badge Diamond' }
            ];
            
            return nextMilestones.find(milestone => milestone.current < milestone.target);
        }

        // Conseils et tips pour optimiser les gains
        function showParrainageTips() {
            const tips = [
                "üí° Partage ton lien dans les groupes WhatsApp d'√©tudiants",
                "üéØ Explique les b√©n√©fices concrets d'√âtudIA √† tes amis", 
                "üì± Utilise le QR code pour les rencontres en personne",
                "üèÜ Montre tes gains pour prouver que √ßa marche",
                "üí¨ Utilise les templates personnalis√©s pour chaque r√©seau social",
                "üë®‚Äçüë©‚Äçüëß‚Äçüë¶ N'oublie pas la liaison parent-enfant pour doubler tes gains",
                "üìä Suis tes statistiques pour optimiser ta strat√©gie"
            ];
            
            const randomTip = tips[Math.floor(Math.random() * tips.length)];
            showParrainageNotification(randomTip, 'info');
        }

        // Auto-affichage d'un tip au chargement
        setTimeout(() => {
            showParrainageTips();
        }, 5000);

        // Sauvegarde locale des donn√©es
        function saveParrainageData() {
            try {
                localStorage.setItem('etudia_parrainage_data', JSON.stringify(parrainageData));
                localStorage.setItem('etudia_parrainage_last_save', new Date().toISOString());
            } catch (error) {
                console.warn('‚ö†Ô∏è Impossible de sauvegarder les donn√©es de parrainage:', error);
            }
        }

        function loadParrainageData() {
            try {
                const saved = localStorage.getItem('etudia_parrainage_data');
                if (saved) {
                    const parsed = JSON.parse(saved);
                    parrainageData = { ...parrainageData, ...parsed };
                    updateParrainageStats();
                }
            } catch (error) {
                console.warn('‚ö†Ô∏è Impossible de charger les donn√©es de parrainage:', error);
            }
        }

        // Sauvegarde automatique toutes les 30 secondes
        setInterval(saveParrainageData, 30000);

        // Charger les donn√©es au d√©marrage
        document.addEventListener('DOMContentLoaded', loadParrainageData);

        // Sauvegarde avant fermeture de page
        window.addEventListener('beforeunload', saveParrainageData);

        // Exposer certaines fonctions pour utilisation externe
        window.EtudiaParrainage = {
            copyReferralLink: copyReferralLink,
            shareWhatsApp: shareWhatsApp,
            requestWithdrawal: requestWithdrawal,
            showParrainageTips: showParrainageTips,
            getParrainageData: () => ({ ...parrainageData }),
            updateStats: updateParrainageStats
        };

        console.log('üí∞ Script Parrainage section charg√© et pr√™t !');
    </script>
</section>

<!-- ============================================== -->
<!-- FIN SECTION PARRAINAGE V4.1 - R√âVOLUTIONNAIRE -->
<!-- Code complet et fonctionnel                   -->
<!-- ============================================== -->
            
<!-- ============================================== -->
<!-- üí≥ SECTION ABONNEMENTS V4.1 - R√âVOLUTIONNAIRE -->
<!-- Gestion compl√®te abonnements - Style √âtudIA -->
<!-- ============================================== -->

<!-- Section Abonnements -->
<section id="abonnements" class="content-section">
    <h2 class="section-title">üí≥ Gestion des Abonnements</h2>
    
    <!-- Styles CSS pour cette section uniquement -->
    <style>
        /* Variables couleurs abonnements - Style √âtudIA */
        #abonnements {
            --abonnements-primary: #FF6B35;
            --abonnements-secondary: #10B981;
            --abonnements-gold: #F59E0B;
            --abonnements-success: #059669;
            --abonnements-info: #3B82F6;
            --abonnements-dark: #1F2937;
            --abonnements-light: #F8FAFC;
            --abonnements-white: #FFFFFF;
            --abonnements-gray: #6B7280;
            --gradient-money: linear-gradient(135deg, #F59E0B 0%, #FF6B35 100%);
            --gradient-success: linear-gradient(135deg, #10B981 0%, #059669 100%);
            --gradient-premium: linear-gradient(135deg, #FF6B35 0%, #EF4444 100%);
            --shadow-glow: 0 0 20px rgba(255, 107, 53, 0.3);
        }

        /* Header section abonnements */
        #abonnements .abonnements-hero {
            background: var(--gradient-money);
            color: white;
            padding: 2rem;
            border-radius: 16px;
            margin-bottom: 2rem;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        #abonnements .abonnements-hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="20" cy="20" r="2" fill="rgba(255,255,255,0.1)"/><circle cx="80" cy="40" r="3" fill="rgba(255,255,255,0.1)"/><circle cx="40" cy="80" r="2" fill="rgba(255,255,255,0.1)"/></svg>');
            opacity: 0.3;
        }

        #abonnements .abonnements-hero-content {
            position: relative;
            z-index: 1;
        }

        #abonnements .abonnements-title {
            font-size: 2rem;
            font-weight: 800;
            margin-bottom: 0.5rem;
        }

        #abonnements .abonnements-subtitle {
            font-size: 1.1rem;
            opacity: 0.9;
            margin-bottom: 1.5rem;
        }

        /* Statistiques principales */
        #abonnements .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }

        #abonnements .stat-card {
            background: var(--abonnements-white);
            padding: 1.5rem;
            border-radius: 12px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(229, 231, 235, 0.8);
            transition: all 0.3s ease;
        }

        #abonnements .stat-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 25px -5px rgba(0, 0, 0, 0.1);
        }

        #abonnements .stat-value {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--abonnements-dark);
            margin-bottom: 0.5rem;
        }

        #abonnements .stat-value span:first-child {
            font-size: 2rem;
        }

        #abonnements .stat-label {
            font-size: 0.9rem;
            color: var(--abonnements-gray);
            margin-bottom: 0.5rem;
        }

        #abonnements .stat-trend {
            font-size: 0.8rem;
            font-weight: 500;
            padding: 0.2rem 0.5rem;
            border-radius: 4px;
        }

        #abonnements .stat-trend.up {
            color: var(--abonnements-success);
            background: rgba(16, 185, 129, 0.1);
        }

        #abonnements .stat-trend.down {
            color: #EF4444;
            background: rgba(239, 68, 68, 0.1);
        }

        /* Layout principal */
        #abonnements .abonnements-grid {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 2rem;
        }

        @media (max-width: 768px) {
            #abonnements .abonnements-grid {
                grid-template-columns: 1fr;
            }
        }

        /* Section plan actuel */
        #abonnements .current-plan-section {
            background: var(--abonnements-white);
            padding: 2rem;
            border-radius: 16px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            margin-bottom: 2rem;
        }

        #abonnements .current-plan-title {
            color: var(--abonnements-dark);
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        #abonnements .plan-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
            gap: 1rem;
        }

        #abonnements .plan-info h3 {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
            color: var(--abonnements-dark);
        }

        #abonnements .plan-info p {
            color: var(--abonnements-gray);
            margin: 0;
        }

        #abonnements .plan-price {
            text-align: right;
        }

        #abonnements .plan-price .price {
            font-size: 2rem;
            font-weight: 800;
            color: var(--abonnements-gold);
        }

        #abonnements .plan-price .currency {
            font-size: 0.9rem;
            color: var(--abonnements-gray);
        }

        /* Usage stats */
        #abonnements .plan-usage {
            margin-bottom: 1rem;
        }

        #abonnements .usage-stat {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.5rem;
        }

        #abonnements .usage-label {
            color: var(--abonnements-gray);
        }

        #abonnements .usage-value {
            font-weight: 600;
            color: var(--abonnements-dark);
        }

        #abonnements .progress-bar {
            background: #E5E7EB;
            height: 8px;
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 1rem;
        }

        #abonnements .progress-fill {
            background: var(--gradient-success);
            height: 100%;
            transition: width 1s ease;
        }

        #abonnements .progress-fill.medium {
            background: var(--gradient-money);
        }

        #abonnements .progress-fill.high {
            background: var(--gradient-premium);
        }

        #abonnements .renewal-status {
            text-align: center;
            margin-top: 1rem;
        }

        #abonnements .status-active {
            color: var(--abonnements-success);
            font-weight: 600;
        }

        #abonnements .status-warning {
            color: var(--abonnements-gold);
            font-weight: 600;
        }

        #abonnements .status-expired {
            color: #EF4444;
            font-weight: 600;
        }

        /* Options d'upgrade */
        #abonnements .upgrade-section {
            background: var(--abonnements-white);
            padding: 2rem;
            border-radius: 16px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            margin-bottom: 2rem;
        }

        #abonnements .upgrade-title {
            color: var(--abonnements-dark);
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        #abonnements .upgrade-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1rem;
        }

        #abonnements .upgrade-card {
            background: var(--abonnements-light);
            padding: 1.5rem;
            border-radius: 12px;
            border: 1px solid #E5E7EB;
            transition: all 0.3s ease;
            position: relative;
        }

        #abonnements .upgrade-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px -5px rgba(0, 0, 0, 0.1);
        }

        #abonnements .upgrade-card.popular {
            border-color: var(--abonnements-primary);
            box-shadow: 0 0 20px rgba(255, 107, 53, 0.2);
        }

        #abonnements .popular-badge {
            position: absolute;
            top: -8px;
            right: 1rem;
            background: var(--gradient-premium);
            color: white;
            padding: 0.3rem 0.8rem;
            border-radius: 0 0 8px 8px;
            font-size: 0.7rem;
            font-weight: 600;
        }

        #abonnements .upgrade-header {
            text-align: center;
            margin-bottom: 1rem;
        }

        #abonnements .upgrade-name {
            font-size: 1.2rem;
            font-weight: 700;
            color: var(--abonnements-dark);
            margin-bottom: 0.5rem;
        }

        #abonnements .upgrade-price {
            font-size: 1.5rem;
            font-weight: 800;
            color: var(--abonnements-gold);
            margin-bottom: 0.3rem;
        }

        #abonnements .upgrade-duration {
            font-size: 0.8rem;
            color: var(--abonnements-gray);
        }

        #abonnements .upgrade-features {
            list-style: none;
            margin-bottom: 1.5rem;
        }

        #abonnements .upgrade-features li {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.3rem 0;
            font-size: 0.9rem;
        }

        #abonnements .upgrade-features li::before {
            content: '‚úÖ';
            font-size: 0.8rem;
        }

        #abonnements .upgrade-button {
            width: 100%;
            background: var(--gradient-money);
            color: white;
            border: none;
            padding: 0.6rem 0.8rem;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
            text-align: center;
        }

        #abonnements .upgrade-button:hover {
            transform: translateY(-1px);
            box-shadow: var(--shadow-glow);
        }

        #abonnements .upgrade-button.popular {
            background: var(--gradient-premium);
        }

        /* Sidebar informations */
        #abonnements .abonnements-sidebar {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }

        #abonnements .info-card {
            background: var(--abonnements-white);
            padding: 1.5rem;
            border-radius: 12px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }

        #abonnements .info-card h3 {
            color: var(--abonnements-dark);
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        /* Historique des transactions */
        #abonnements .transaction-history {
            background: var(--abonnements-white);
            padding: 2rem;
            border-radius: 16px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }

        #abonnements .transactions-title {
            color: var(--abonnements-dark);
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        #abonnements .transactions-list {
            max-height: 400px;
            overflow-y: auto;
        }

        #abonnements .transaction-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 1rem;
            border-radius: 8px;
            margin-bottom: 0.5rem;
            transition: all 0.3s ease;
            border: 1px solid #F3F4F6;
        }

        #abonnements .transaction-item:hover {
            background: var(--abonnements-light);
            transform: translateX(4px);
        }

        #abonnements .transaction-info {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        #abonnements .transaction-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--gradient-money);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 0.9rem;
        }

        #abonnements .transaction-details h5 {
            margin: 0 0 0.2rem 0;
            color: var(--abonnements-dark);
        }

        #abonnements .transaction-details p {
            margin: 0;
            font-size: 0.8rem;
            color: var(--abonnements-gray);
        }

        #abonnements .transaction-amount {
            font-weight: 700;
            color: var(--abonnements-success);
            font-size: 1.1rem;
        }

        /* Actions rapides */
        #abonnements .quick-actions {
            display: flex;
            gap: 1rem;
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
        }

        #abonnements .quick-btn {
            background: var(--gradient-success);
            color: white;
            border: none;
            padding: 0.8rem 1.2rem;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        #abonnements .quick-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(16, 185, 129, 0.3);
        }

        /* Animations */
        #abonnements .animate-slide-in {
            animation: slideInUp 0.6s ease-out;
        }

        @keyframes slideInUp {
            from {
                transform: translateY(30px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        #abonnements .animate-fade-in {
            animation: fadeIn 0.8s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        /* Notifications */
        #abonnements .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 1rem 1.5rem;
            border-radius: 8px;
            color: white;
            font-weight: 600;
            z-index: 10000;
            transform: translateX(100%);
            transition: transform 0.3s ease;
        }

        #abonnements .notification.show {
            transform: translateX(0);
        }

        #abonnements .notification.success { background: var(--abonnements-success); }
        #abonnements .notification.error { background: #EF4444; }
        #abonnements .notification.info { background: var(--abonnements-info); }

        /* Toggle switch */
        #abonnements .toggle-switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 24px;
        }

        #abonnements .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        #abonnements .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: #ccc;
            transition: 0.4s;
            border-radius: 24px;
        }

        #abonnements .slider:before {
            position: absolute;
            content: "";
            height: 18px;
            width: 18px;
            left: 3px;
            bottom: 3px;
            background: white;
            transition: 0.4s;
            border-radius: 50%;
        }

        #abonnements input:checked + .slider {
            background: var(--abonnements-success);
        }

        #abonnements input:checked + .slider:before {
            transform: translateX(26px);
        }

        /* Responsive */
        @media (max-width: 768px) {
            #abonnements .plan-header {
                flex-direction: column;
                text-align: center;
            }
            
            #abonnements .stats-grid {
                grid-template-columns: 1fr;
            }
            
            #abonnements .upgrade-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>

    <!-- Header Hero -->
    <div class="abonnements-hero animate-fade-in">
        <div class="abonnements-hero-content">
            <h1 class="abonnements-title">üí≥ Gestion de votre Abonnement</h1>
            <p class="abonnements-subtitle">
                Suivez votre utilisation, g√©rez vos plans et optimisez votre apprentissage avec √âtudIA ! üöÄ
            </p>
        </div>
    </div>

    <!-- Statistiques principales -->
    <div class="stats-grid animate-slide-in">
        <div class="stat-card">
            <div class="stat-value">
                <span>üí¨</span>
                <span id="totalInteractions">847</span>
            </div>
            <div class="stat-label">Interactions ce mois</div>
            <div class="stat-trend up">+156 vs mois dernier</div>
        </div>
        
        <div class="stat-card">
            <div class="stat-value">
                <span>‚ö°</span>
                <span id="remainingInteractions">653</span>
            </div>
            <div class="stat-label">Interactions restantes</div>
            <div class="stat-trend up">Recharge dans 12 jours</div>
        </div>
        
        <div class="stat-card">
            <div class="stat-value">
                <span>üìä</span>
                <span id="usagePercentage">56</span>%
            </div>
            <div class="stat-label">Taux d'utilisation</div>
            <div class="stat-trend up">Usage optimal</div>
        </div>
        
        <div class="stat-card">
            <div class="stat-value">
                <span>üí∞</span>
                <span id="monthlySpend">6,500</span> F
            </div>
            <div class="stat-label">D√©pense mensuelle</div>
            <div class="stat-trend up">Plan actif</div>
        </div>
    </div>

    <!-- Layout principal -->
    <div class="abonnements-grid">
        <!-- Section principale -->
        <div class="abonnements-main">
            <!-- Plan actuel -->
            <div class="current-plan-section animate-slide-in">
                <h3 class="current-plan-title">
                    <i class="fas fa-crown"></i>
                    Votre Plan Actuel
                </h3>
                
                <div class="plan-header">
                    <div class="plan-info">
                        <h3 id="currentPlanName">Premium Mensuel</h3>
                        <p id="currentPlanDescription">50 interactions/jour (1,500/mois) ‚Ä¢ IA √âtudIA optimis√© ‚Ä¢ Support prioritaire</p>
                    </div>
                    <div class="plan-price">
                        <span class="price" id="currentPlanPrice">6,500</span>
                        <span class="currency">FCFA/mois</span>
                    </div>
                </div>
                
                <div class="plan-usage">
                    <div class="usage-stat">
                        <span class="usage-label">Interactions utilis√©es ce mois</span>
                        <span class="usage-value" id="usedInteractions">847 / 1,500</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill medium" id="usageProgressBar" style="width: 56%"></div>
                    </div>
                </div>
                
                <div class="renewal-status">
                    <div class="status-active" id="renewalStatus">
                        ‚úÖ Renouvellement automatique le 15 septembre 2025
                    </div>
                </div>
            </div>

            <!-- Actions rapides -->
            <div class="quick-actions animate-slide-in">
                <button class="quick-btn" onclick="downloadInvoice()">
                    <i class="fas fa-download"></i>
                    T√©l√©charger Facture
                </button>
                <button class="quick-btn" onclick="changePaymentMethod()">
                    <i class="fas fa-credit-card"></i>
                    Changer Paiement
                </button>
                <button class="quick-btn" onclick="viewDetailedStats()">
                    <i class="fas fa-chart-bar"></i>
                    Stats D√©taill√©es
                </button>
            </div>

            <!-- Options d'upgrade -->
            <div class="upgrade-section animate-slide-in">
                <h3 class="upgrade-title">
                    <i class="fas fa-rocket"></i>
                    Plans Disponibles & Upgrades
                </h3>
                
                <div class="upgrade-grid">
                    <!-- Excellence Mensuel -->
                    <div class="upgrade-card popular">
                        <div class="popular-badge">üèÜ POPULAIRE</div>
                        <div class="upgrade-header">
                            <div class="upgrade-name">Excellence Mensuel</div>
                            <div class="upgrade-price">10,000 FCFA</div>
                            <div class="upgrade-duration">30 jours</div>
                        </div>
                        <ul class="upgrade-features">
                            <li>120 interactions/jour (3,600/mois)</li>
                            <li>IA √âtudIA prioritaire</li>
                            <li>Support premium complet</li>
                            <li>Export PDF illimit√©</li>
                            <li>Audio haute qualit√©</li>
                        </ul>
                        <button class="upgrade-button popular" onclick="upgradeToPlan('excellence-mensuel')">
                            <i class="fas fa-crown"></i>
                            Upgrader Excellence
                        </button>
                    </div>

                    <!-- Excellence Week-end -->
                    <div class="upgrade-card">
                        <div class="upgrade-header">
                            <div class="upgrade-name">Excellence Week-end</div>
                            <div class="upgrade-price">4,000 FCFA</div>
                            <div class="upgrade-duration">Samedi-Dimanche</div>
                        </div>
                        <ul class="upgrade-features">
                            <li>400 interactions total week-end</li>
                            <li>IA √âtudIA prioritaire</li>
                            <li>Support chat WhatsApp</li>
                            <li>PDF export solutions</li>
                            <li>Audio illimit√©</li>
                        </ul>
                        <button class="upgrade-button" onclick="upgradeToPlan('excellence-weekend')">
                            <i class="fas fa-calendar-week"></i>
                            Ajouter Week-end
                        </button>
                    </div>

                    <!-- Premium Week-end -->
                    <div class="upgrade-card">
                        <div class="upgrade-header">
                            <div class="upgrade-name">Premium Week-end</div>
                            <div class="upgrade-price">2,000 FCFA</div>
                            <div class="upgrade-duration">Samedi-Dimanche</div>
                        </div>
                        <ul class="upgrade-features">
                            <li>160 interactions total week-end</li>
                            <li>IA √âtudIA payant</li>
                            <li>Tous modes disponibles</li>
                            <li>Audio illimit√© week-end</li>
                        </ul>
                        <button class="upgrade-button" onclick="upgradeToPlan('premium-weekend')">
                            <i class="fas fa-calendar-alt"></i>
                            Ajouter Week-end
                        </button>
                    </div>

                    <!-- Excellence Jour -->
                    <div class="upgrade-card">
                        <div class="upgrade-header">
                            <div class="upgrade-name">Excellence Jour</div>
                            <div class="upgrade-price">750 FCFA</div>
                            <div class="upgrade-duration">24 heures</div>
                        </div>
                        <ul class="upgrade-features">
                            <li>50 interactions maximum</li>
                            <li>IA √âtudIA prioritaire</li>
                            <li>Support chat 24h</li>
                            <li>Audio illimit√©</li>
                        </ul>
                        <button class="upgrade-button" onclick="upgradeToPlan('excellence-jour')">
                            <i class="fas fa-bolt"></i>
                            Ajouter Journ√©e
                        </button>
                    </div>

                    <!-- Premium Jour -->
                    <div class="upgrade-card">
                        <div class="upgrade-header">
                            <div class="upgrade-name">Premium Jour</div>
                            <div class="upgrade-price">500 FCFA</div>
                            <div class="upgrade-duration">24 heures</div>
                        </div>
                        <ul class="upgrade-features">
                            <li>20 interactions maximum</li>
                            <li>IA √âtudIA payant</li>
                            <li>Tous modes + audio illimit√©</li>
                            <li>Parfait r√©visions veille examen</li>
                        </ul>
                        <button class="upgrade-button" onclick="upgradeToPlan('premium-jour')">
                            <i class="fas fa-zap"></i>
                            Ajouter Journ√©e
                        </button>
                    </div>
                </div>
            </div>

            <!-- Historique des transactions -->
            <div class="transaction-history animate-slide-in">
                <h3 class="transactions-title">
                    <i class="fas fa-history"></i>
                    Historique des Transactions
                </h3>
                
                <div class="transactions-list" id="transactionsList">
                    <div class="transaction-item">
                        <div class="transaction-info">
                            <div class="transaction-icon">PM</div>
                            <div class="transaction-details">
                                <h5>Premium Mensuel</h
            
            <!-- Progression Section -->
            <section id="progression" class="content-section">
                <h2 class="section-title">üìà Ma Progression</h2>
                <div class="content-card">
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 1.5rem;">
                        <div>
                            <h4 style="margin-bottom: 1rem; color: var(--etudia-white);">üéØ Objectifs du Mois</h4>
                            <div style="space-y: 1rem;">
                                <div style="margin-bottom: 1rem;">
                                    <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                                        <span>Sessions IA quotidiennes</span>
                                        <span style="color: var(--etudia-success);">23/25</span>
                                    </div>
                                    <div style="background: rgba(0,0,0,0.2); height: 8px; border-radius: 4px;">
                                        <div style="background: var(--etudia-success); height: 100%; width: 92%; border-radius: 4px;"></div>
                                    </div>
                                </div>
                                <div style="margin-bottom: 1rem;">
                                    <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                                        <span>Documents analys√©s</span>
                                        <span style="color: var(--etudia-primary);">28/30</span>
                                    </div>
                                    <div style="background: rgba(0,0,0,0.2); height: 8px; border-radius: 4px;">
                                        <div style="background: var(--etudia-primary); height: 100%; width: 93%; border-radius: 4px;"></div>
                                    </div>
                                </div>
                                <div style="margin-bottom: 1rem;">
                                    <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                                        <span>Parrainages r√©ussis</span>
                                        <span style="color: var(--etudia-warning);">3/5</span>
                                    </div>
                                    <div style="background: rgba(0,0,0,0.2); height: 8px; border-radius: 4px;">
                                        <div style="background: var(--etudia-warning); height: 100%; width: 60%; border-radius: 4px;"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div>
                            <h4 style="margin-bottom: 1rem; color: var(--etudia-white);">üìä Statistiques Performance</h4>
                            <div style="display: grid; gap: 0.8rem;">
                                <div style="background: rgba(0,0,0,0.2); padding: 1rem; border-radius: var(--border-radius);">
                                    <div style="font-size: 1.4rem; color: var(--etudia-success); font-weight: 700;">87%</div>
                                    <div style="font-size: 0.9rem;">Taux de r√©ussite exercices</div>
                                </div>
                                <div style="background: rgba(0,0,0,0.2); padding: 1rem; border-radius: var(--border-radius);">
                                    <div style="font-size: 1.4rem; color: var(--etudia-info); font-weight: 700;">4.2h</div>
                                    <div style="font-size: 0.9rem;">Temps d'√©tude moyen/jour</div>
                                </div>
                                <div style="background: rgba(0,0,0,0.2); padding: 1rem; border-radius: var(--border-radius);">
                                    <div style="font-size: 1.4rem; color: var(--etudia-primary); font-weight: 700;">342</div>
                                    <div style="font-size: 0.9rem;">Questions r√©solues ce mois</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- Autres sections avec coming soon -->
            <section id="historique" class="content-section">
                <h2 class="section-title">üìú Historique des Sessions</h2>
                <div class="content-card">
                    <div class="coming-soon">
                        <div class="coming-soon-icon">üìú</div>
                        <h3>Historique Complet</h3>
                        <p>Retrouve toutes tes conversations et documents trait√©s ici bient√¥t !</p>
                    </div>
                </div>
            </section>
            
            <section id="gamification" class="content-section">
                <h2 class="section-title">üèÜ Badges & Niveaux</h2>
                <div class="content-card">
                    <div class="coming-soon">
                        <div class="coming-soon-icon">üèÜ</div>
                        <h3>Syst√®me de Gamification</h3>
                        <p>Collectionne des badges et monte de niveau en utilisant √âtudIA !</p>
                    </div>
                </div>
            </section>
            
            <section id="notifications" class="content-section">
                <h2 class="section-title">üîî Centre de Notifications</h2>
                <div class="content-card">
                    <div class="coming-soon">
                        <div class="coming-soon-icon">üîî</div>
                        <h3>Notifications Intelligentes</h3>
                        <p>Re√ßois des alertes personnalis√©es pour optimiser ton apprentissage !</p>
                    </div>
                </div>
            </section>
            
            <section id="profil" class="content-section">
                <h2 class="section-title">üë§ Mon Profil</h2>
                <div class="content-card">
                    <div class="coming-soon">
                        <div class="coming-soon-icon">üë§</div>
                        <h3>Gestion du Profil</h3>
                        <p>Personnalise ton exp√©rience √âtudIA ici !</p>
                    </div>
                </div>
            </section>
            
            <section id="parametres" class="content-section">
                <h2 class="section-title">‚öôÔ∏è Param√®tres</h2>
                <div class="content-card">
                    <div class="coming-soon">
                        <div class="coming-soon-icon">‚öôÔ∏è</div>
                        <h3>Param√®tres Avanc√©s</h3>
                        <p>Configure √âtudIA selon tes pr√©f√©rences !</p>
                    </div>
                </div>
            </section>
            
            <section id="support" class="content-section">
                <h2 class="section-title">‚ùì Aide & Support</h2>
                <div class="content-card">
                    <div class="coming-soon">
                        <div class="coming-soon-icon">‚ùì</div>
                        <h3>Centre d'Aide</h3>
                        <p>Support 24/7 pour t'accompagner dans tes √©tudes !</p>
                    </div>
                </div>
            </section>
        </main>
    </div>
    
    <!-- Bouton Flottant Interface IA -->
    <button class="floating-ia-btn" onclick="toggleIA()" title="Interface IA">
        <i class="fas fa-robot"></i>
    </button>
    
    <script>
        // Variables globales
        let currentMode = 'normal';
        let currentSection = 'dashboard';
        
        // Gestion des sections
        function showSection(sectionId) {
            // Masquer toutes les sections
            document.querySelectorAll('.content-section').forEach(section => {
                section.classList.remove('active');
            });
            
            // Afficher la section demand√©e
            document.getElementById(sectionId).classList.add('active');
            
            // Mettre √† jour la navigation
            document.querySelectorAll('.nav-link').forEach(link => {
                link.classList.remove('active');
            });
            
            // Trouver et activer le lien correspondant
            const activeLink = document.querySelector(`[onclick="showSection('${sectionId}')"]`);
            if (activeLink) {
                activeLink.classList.add('active');
            }
            
            currentSection = sectionId;
            showToast(`Section ${getSectionName(sectionId)} ouverte`, 'info');
        }
        
        function getSectionName(sectionId) {
            const names = {
                'dashboard': 'Tableau de Bord',
                'ia-chat': 'Interface IA',
                'documents': 'Documents',
                'parrainage': 'Parrainage',
                'abonnements': 'Abonnements',
                'progression': 'Progression',
                'historique': 'Historique',
                'gamification': 'Badges & Niveaux',
                'notifications': 'Notifications',
                'profil': 'Profil',
                'parametres': 'Param√®tres',
                'support': 'Support'
            };
            return names[sectionId] || sectionId;
        }
        
        // Toggle sidebar mobile
        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            const overlay = document.getElementById('mobileOverlay');
            sidebar.classList.toggle('open');
            overlay.classList.toggle('active');
        }
        
        function closeMobileMenu() {
            const sidebar = document.getElementById('sidebar');
            const overlay = document.getElementById('mobileOverlay');
            sidebar.classList.remove('open');
            overlay.classList.remove('active');
        }
        
        // Toggle IA
        function toggleIA() {
            showSection('ia-chat');
            showToast('Interface IA ouverte', 'success');
        }
        
        // Gestion des modes IA
        document.addEventListener('DOMContentLoaded', function() {
            document.querySelectorAll('.mode-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    // Retirer active de tous les boutons
                    document.querySelectorAll('.mode-btn').forEach(b => b.classList.remove('active'));
                    
                    // Ajouter active au bouton cliqu√©
                    this.classList.add('active');
                    
                    // Mettre √† jour le mode
                    currentMode = this.dataset.mode;
                    
                    const modeNames = {
                        'normal': 'Normal (250 tokens)',
                        'step': '√âtape par √âtape (180 tokens)',
                        'direct': 'Solution Directe (400 tokens)',
                        'audio': 'Mode Audio (200 tokens)'
                    };
                    
                    showToast(`Mode ${modeNames[currentMode]} s√©lectionn√©`, 'info');
                });
            });
        });
        
        // Gestion de l'input chat
        function handleKeyPress(event) {
            if (event.key === 'Enter' && !event.shiftKey) {
                event.preventDefault();
                sendMessage();
            }
        }
        
        function handleInputChange() {
            const input = document.getElementById('chatInput');
            const sendBtn = document.getElementById('sendBtn');
            sendBtn.disabled = input.value.trim().length === 0;
            
            // Auto-resize
            input.style.height = 'auto';
            input.style.height = input.scrollHeight + 'px';
        }
        
        // Envoi de message IA
        function sendMessage() {
            const input = document.getElementById('chatInput');
            const message = input.value.trim();
            
            if (!message) {
                showToast('Veuillez saisir un message', 'warning');
                return;
            }
            
            // Ajouter le message utilisateur
            addMessage(message, 'user');
            input.value = '';
            document.getElementById('sendBtn').disabled = true;
            
            // Simuler r√©ponse IA (√† remplacer par vraie API)
            setTimeout(() => {
                const responses = [
                    "Excellente question ! Laisse-moi t'expliquer cela √©tape par √©tape...",
                    "Je vais analyser ton document et te donner une explication d√©taill√©e.",
                    "Voici la solution compl√®te avec les explications n√©cessaires...",
                    "Pour mieux comprendre ce concept, regardons d'abord les bases..."
                ];
                
                const randomResponse = responses[Math.floor(Math.random() * responses.length)];
                addMessage(randomResponse, 'ai');
                
                showToast(`${getTokenCost()} tokens utilis√©s`, 'success');
                updateTokenCount(-getTokenCost());
            }, 1000);
        }
        
        // Ajouter un message au chat
        function addMessage(text, sender) {
            const chatMessages = document.getElementById('chatMessages');
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${sender === 'user' ? 'user-message' : 'ai-message'}`;
            
            const avatar = sender === 'user' ? 'üë§' : 'ü§ñ';
            const time = new Date().toLocaleTimeString('fr-FR', { hour: '2-digit', minute: '2-digit' });
            
            messageDiv.innerHTML = `
                <div class="message-avatar">${avatar}</div>
                <div class="message-content">
                    <div class="message-text">${text}</div>
                    <div class="message-time">${time}</div>
                </div>
            `;
            
            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }
        
        // Calculer le co√ªt en tokens selon le mode
        function getTokenCost() {
            const costs = {
                'normal': 250,
                'step': 180,
                'direct': 400,
                'audio': 200
            };
            return costs[currentMode];
        }
        
        // Mettre √† jour le compteur de tokens
        function updateTokenCount(change) {
            const tokenDisplay = document.querySelector('.user-plan');
            const currentTokens = parseInt(tokenDisplay.textContent.match(/\d+/)[0]);
            const newTokens = Math.max(0, currentTokens + change);
            tokenDisplay.textContent = `Premium ‚Ä¢ ${newTokens} tokens`;
            
            // Mettre √† jour aussi la stat card
            const statValue = document.querySelector('.stat-value');
            if (statValue) {
                statValue.textContent = newTokens;
            }
        }
        
        // Gestion upload de fichiers
        function handleFileUpload(input) {
            const file = input.files[0];
            if (!file) return;
            
            if (file.size > 10 * 1024 * 1024) {
                showToast('Fichier trop volumineux (max 10MB)', 'error');
                return;
            }
            
            showToast(`Document "${file.name}" upload√© avec succ√®s`, 'success');
            addMessage(`üìÑ Document upload√© : ${file.name}`, 'user');
            
            setTimeout(() => {
                addMessage(`J'ai analys√© votre document "${file.name}". Voici un r√©sum√© des points cl√©s...`, 'ai');
                showToast('120 tokens utilis√©s pour l\'analyse', 'info');
                updateTokenCount(-120);
            }, 2000);
        }
        
        function handleDocumentsUpload(input) {
            const files = Array.from(input.files);
            if (files.length === 0) return;
            
            files.forEach(file => {
                if (file.size <= 10 * 1024 * 1024) {
                    showToast(`Document "${file.name}" ajout√©`, 'success');
                }
            });
        }
        
        // Fonctions documents
        function relaunchIA(subject) {
            showSection('ia-chat');
            setTimeout(() => {
                addMessage(`Relancer l'analyse du document ${subject}`, 'user');
                setTimeout(() => {
                    addMessage(`Document ${subject} r√©analys√© avec les derni√®res am√©liorations IA !`, 'ai');
                    showToast('180 tokens utilis√©s', 'info');
                    updateTokenCount(-180);
                }, 1000);
            }, 500);
        }
        
        // Fonctions parrainage
        function copyReferralLink() {
            const link = 'https://etudia.ci/invite/JB-DOSSO-2024';
            navigator.clipboard.writeText(link).then(() => {
                showToast('Lien de parrainage copi√© !', 'success');
            });
        }
        
        function shareWhatsApp() {
            const message = "Rejoins-moi sur √âtudIA, la meilleure IA √©ducative de C√¥te d'Ivoire ! Utilise mon lien : https://etudia.ci/invite/JB-DOSSO-2024";
            const url = `https://wa.me/?text=${encodeURIComponent(message)}`;
            window.open(url, '_blank');
            showToast('Partage WhatsApp ouvert', 'info');
        }
        
        function shareFacebook() {
            const url = 'https://etudia.ci/invite/JB-DOSSO-2024';
            const facebookUrl = `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(url)}`;
            window.open(facebookUrl, '_blank');
            showToast('Partage Facebook ouvert', 'info');
        }
        
        function requestWithdrawal() {
            showToast('Demande de retrait en cours...', 'info');
            setTimeout(() => {
                showToast('Demande envoy√©e ! Traitement sous 48h', 'success');
            }, 1500);
        }
        
        // Fonctions abonnements
        function upgradeToExcellence() {
            showToast('Redirection vers paiement Excellence...', 'info');
            setTimeout(() => {
                showToast('Upgrade r√©ussi ! Bienvenue en Excellence', 'success');
            }, 2000);
        }
        
        function buyDailyPlan() {
            showToast('Achat plan journalier en cours...', 'info');
            setTimeout(() => {
                showToast('Plan journalier activ√© ! +15 interactions', 'success');
            }, 1500);
        }
        
        function buyTokenPack() {
            showToast('Achat pack tokens en cours...', 'info');
            setTimeout(() => {
                showToast('Pack achet√© ! +500 tokens ajout√©s', 'success');
                updateTokenCount(500);
            }, 1500);
        }
        
        // Syst√®me de notifications toast
        function showToast(message, type = 'info') {
            const toastContainer = document.getElementById('toastContainer');
            const toast = document.createElement('div');
            toast.className = `toast ${type}`;
            toast.textContent = message;
            
            toastContainer.appendChild(toast);
            
            // Animation d'entr√©e
            setTimeout(() => {
                toast.classList.add('show');
            }, 100);
            
            // Suppression automatique
            setTimeout(() => {
                toast.classList.remove('show');
                setTimeout(() => {
                    if (toastContainer.contains(toast)) {
                        toastContainer.removeChild(toast);
                    }
                }, 300);
            }, 4000);
        }
        
        function showNotifications() {
            showToast('5 nouvelles notifications', 'info');
            setTimeout(() => {
                showToast('üéâ Nouveau badge d√©bloqu√© : Expert IA !', 'success');
            }, 1000);
            setTimeout(() => {
                showToast('üí∞ Nouveau gain parrainage : +1,300 F', 'success');
            }, 2000);
            setTimeout(() => {
                showToast('üìö Rappel : Document en attente d\'analyse', 'warning');
            }, 3000);
            setTimeout(() => {
                showToast('üîî Tokens faibles : 847 restants', 'warning');
            }, 4000);
        }
        
        // Gestion responsive
        window.addEventListener('resize', function() {
            if (window.innerWidth > 768) {
                closeMobileMenu();
            }
        });
        
        // Raccourcis clavier
        document.addEventListener('keydown', function(e) {
            // Ctrl+K pour focus sur input IA
            if (e.ctrlKey && e.key === 'k') {
                e.preventDefault();
                const input = document.getElementById('chatInput');
                if (input) {
                    input.focus();
                    showToast('Focus sur input IA', 'info');
                }
            }
            
            // Ctrl+D pour dashboard
            if (e.ctrlKey && e.key === 'd') {
                e.preventDefault();
                showSection('dashboard');
            }
            
            // Ctrl+Shift+C pour chat complet
            if (e.ctrlKey && e.shiftKey && e.key === 'C') {
                e.preventDefault();
                showSection('ia-chat');
            }
            
            // Escape pour fermer modals
            if (e.key === 'Escape') {
                closeMobileMenu();
            }
        });
        
        // Animation de d√©marrage
        window.addEventListener('load', function() {
            showToast('üéâ Bienvenue Jean-Baptiste ! Ton espace √âtudIA est pr√™t !', 'success');
            
            // Animation fade-in pour tous les √©l√©ments
            document.querySelectorAll('.stat-card, .action-card, .content-card').forEach((el, index) => {
                el.style.opacity = '0';
                el.style.transform = 'translateY(10px)';
                
                setTimeout(() => {
                    el.style.transition = 'all 0.5s ease-out';
                    el.style.opacity = '1';
                    el.style.transform = 'translateY(0)';
                }, index * 50);
            });
        });
        
        // Simulation mise √† jour temps r√©el des stats
        setInterval(() => {
            if (Math.random() > 0.95) { // 5% de chance
                const gainTypes = [
                    { text: 'üí∞ Nouveau gain parrainage', value: '+750 F', type: 'success' },
                    { text: 'üèÜ Badge d√©bloqu√©', value: 'Expert Math√©matiques', type: 'success' },
                    { text: 'üìà Objectif atteint', value: 'Sessions quotidiennes', type: 'info' }
                ];
                
                const randomGain = gainTypes[Math.floor(Math.random() * gainTypes.length)];
                showToast(`${randomGain.text}: ${randomGain.value}`, randomGain.type);
            }
        }, 15000); // Toutes les 15 secondes
        
        // Auto-sauvegarde des donn√©es utilisateur (simulation)
        setInterval(() => {
            if (Math.random() > 0.9) { // 10% de chance
                showToast('üíæ Donn√©es sauvegard√©es automatiquement', 'info');
            }
        }, 30000); // Toutes les 30 secondes
        
        // Debug info pour d√©veloppement
        console.log('üöÄ √âtudIA V4.1 - Backoffice √âl√®ve PEAUFIN√â Initialis√©');
        console.log('‚úÖ Donn√©es production utilis√©es');
        console.log('‚úÖ √âl√©ments compacts appliqu√©s');
        console.log('‚úÖ Interface IA code complet int√©gr√©');
        console.log('‚úÖ Syst√®me parrainage V4.1 complet');
        console.log('‚úÖ Abonnements bas√©s sur plans.html');
        console.log('‚úÖ Bouton flottant IA ajout√©');
        console.log('üá®üáÆ Made with ‚ù§Ô∏è by @Pacousstar & MonAP');
    </script>
</body>
</html>
